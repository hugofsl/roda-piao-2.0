(()=>{var e={5580:(e,t,a)=>{var r=a(6110)(a(9325),"DataView");e.exports=r},1549:(e,t,a)=>{var r=a(2032),n=a(3862),s=a(6721),i=a(2749),o=a(5749);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},79:(e,t,a)=>{var r=a(3702),n=a(80),s=a(4739),i=a(8655),o=a(1175);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},8223:(e,t,a)=>{var r=a(6110)(a(9325),"Map");e.exports=r},3661:(e,t,a)=>{var r=a(3040),n=a(7670),s=a(289),i=a(4509),o=a(2949);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=n,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},2804:(e,t,a)=>{var r=a(6110)(a(9325),"Promise");e.exports=r},6545:(e,t,a)=>{var r=a(6110)(a(9325),"Set");e.exports=r},8859:(e,t,a)=>{var r=a(3661),n=a(1380),s=a(1459);function i(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new r;++t<a;)this.add(e[t])}i.prototype.add=i.prototype.push=n,i.prototype.has=s,e.exports=i},7217:(e,t,a)=>{var r=a(79),n=a(1420),s=a(938),i=a(3605),o=a(9817),l=a(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},1873:(e,t,a)=>{var r=a(9325).Symbol;e.exports=r},7828:(e,t,a)=>{var r=a(9325).Uint8Array;e.exports=r},8303:(e,t,a)=>{var r=a(6110)(a(9325),"WeakMap");e.exports=r},3729:e=>{e.exports=function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r&&!1!==t(e[a],a,e););return e}},9770:e=>{e.exports=function(e,t){for(var a=-1,r=null==e?0:e.length,n=0,s=[];++a<r;){var i=e[a];t(i,a,e)&&(s[n++]=i)}return s}},695:(e,t,a)=>{var r=a(8096),n=a(2428),s=a(6449),i=a(3656),o=a(361),l=a(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var a=s(e),p=!a&&n(e),d=!a&&!p&&i(e),u=!a&&!p&&!d&&l(e),g=a||p||d||u,b=g?r(e.length,String):[],m=b.length;for(var h in e)!t&&!c.call(e,h)||g&&("length"==h||d&&("offset"==h||"parent"==h)||u&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||o(h,m))||b.push(h);return b}},4528:e=>{e.exports=function(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e}},4248:e=>{e.exports=function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r;)if(t(e[a],a,e))return!0;return!1}},6547:(e,t,a)=>{var r=a(3360),n=a(5288),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,a){var i=e[t];s.call(e,t)&&n(i,a)&&(void 0!==a||t in e)||r(e,t,a)}},6025:(e,t,a)=>{var r=a(5288);e.exports=function(e,t){for(var a=e.length;a--;)if(r(e[a][0],t))return a;return-1}},4733:(e,t,a)=>{var r=a(1791),n=a(5950);e.exports=function(e,t){return e&&r(t,n(t),e)}},3838:(e,t,a)=>{var r=a(1791),n=a(7241);e.exports=function(e,t){return e&&r(t,n(t),e)}},3360:(e,t,a)=>{var r=a(3243);e.exports=function(e,t,a){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}},9999:(e,t,a)=>{var r=a(7217),n=a(3729),s=a(6547),i=a(4733),o=a(3838),l=a(3290),c=a(3007),p=a(2271),d=a(8948),u=a(2),g=a(3349),b=a(5861),m=a(6189),h=a(7199),f=a(5529),y=a(6449),v=a(3656),_=a(7730),w=a(3805),k=a(8440),x=a(5950),E=a(7241),S="[object Arguments]",C="[object Function]",N="[object Object]",j={};j[S]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j[N]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j[C]=j["[object WeakMap]"]=!1,e.exports=function e(t,a,T,A,O,z){var P,B=1&a,R=2&a,I=4&a;if(T&&(P=O?T(t,A,O,z):T(t)),void 0!==P)return P;if(!w(t))return t;var W=y(t);if(W){if(P=m(t),!B)return c(t,P)}else{var $=b(t),F=$==C||"[object GeneratorFunction]"==$;if(v(t))return l(t,B);if($==N||$==S||F&&!O){if(P=R||F?{}:f(t),!B)return R?d(t,o(P,t)):p(t,i(P,t))}else{if(!j[$])return O?t:{};P=h(t,$,B)}}z||(z=new r);var G=z.get(t);if(G)return G;z.set(t,P),k(t)?t.forEach((function(r){P.add(e(r,a,T,r,t,z))})):_(t)&&t.forEach((function(r,n){P.set(n,e(r,a,T,n,t,z))}));var M=W?void 0:(I?R?g:u:R?E:x)(t);return n(M||t,(function(r,n){M&&(r=t[n=r]),s(P,n,e(r,a,T,n,t,z))})),P}},9344:(e,t,a)=>{var r=a(3805),n=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(n)return n(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=s},2199:(e,t,a)=>{var r=a(4528),n=a(6449);e.exports=function(e,t,a){var s=t(e);return n(e)?s:r(s,a(e))}},2552:(e,t,a)=>{var r=a(1873),n=a(659),s=a(9350),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):s(e)}},7534:(e,t,a)=>{var r=a(2552),n=a(346);e.exports=function(e){return n(e)&&"[object Arguments]"==r(e)}},270:(e,t,a)=>{var r=a(7068),n=a(346);e.exports=function e(t,a,s,i,o){return t===a||(null==t||null==a||!n(t)&&!n(a)?t!=t&&a!=a:r(t,a,s,i,e,o))}},7068:(e,t,a)=>{var r=a(7217),n=a(5911),s=a(1986),i=a(689),o=a(5861),l=a(6449),c=a(3656),p=a(7167),d="[object Arguments]",u="[object Array]",g="[object Object]",b=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,m,h,f){var y=l(e),v=l(t),_=y?u:o(e),w=v?u:o(t),k=(_=_==d?g:_)==g,x=(w=w==d?g:w)==g,E=_==w;if(E&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(E&&!k)return f||(f=new r),y||p(e)?n(e,t,a,m,h,f):s(e,t,_,a,m,h,f);if(!(1&a)){var S=k&&b.call(e,"__wrapped__"),C=x&&b.call(t,"__wrapped__");if(S||C){var N=S?e.value():e,j=C?t.value():t;return f||(f=new r),h(N,j,a,m,f)}}return!!E&&(f||(f=new r),i(e,t,a,m,h,f))}},9172:(e,t,a)=>{var r=a(5861),n=a(346);e.exports=function(e){return n(e)&&"[object Map]"==r(e)}},5083:(e,t,a)=>{var r=a(1882),n=a(7296),s=a(3805),i=a(7473),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,p=l.toString,d=c.hasOwnProperty,u=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||n(e))&&(r(e)?u:o).test(i(e))}},6038:(e,t,a)=>{var r=a(5861),n=a(346);e.exports=function(e){return n(e)&&"[object Set]"==r(e)}},4901:(e,t,a)=>{var r=a(2552),n=a(294),s=a(346),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&n(e.length)&&!!i[r(e)]}},8984:(e,t,a)=>{var r=a(5527),n=a(3650),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return n(e);var t=[];for(var a in Object(e))s.call(e,a)&&"constructor"!=a&&t.push(a);return t}},2903:(e,t,a)=>{var r=a(3805),n=a(5527),s=a(181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=n(e),a=[];for(var o in e)("constructor"!=o||!t&&i.call(e,o))&&a.push(o);return a}},8096:e=>{e.exports=function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},9219:e=>{e.exports=function(e,t){return e.has(t)}},9653:(e,t,a)=>{var r=a(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:(e,t,a)=>{e=a.nmd(e);var r=a(9325),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n?r.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,r=o?o(a):new e.constructor(a);return e.copy(r),r}},6169:(e,t,a)=>{var r=a(9653);e.exports=function(e,t){var a=t?r(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}},3201:e=>{var t=/\w*$/;e.exports=function(e){var a=new e.constructor(e.source,t.exec(e));return a.lastIndex=e.lastIndex,a}},3736:(e,t,a)=>{var r=a(1873),n=r?r.prototype:void 0,s=n?n.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},1961:(e,t,a)=>{var r=a(9653);e.exports=function(e,t){var a=t?r(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}},3007:e=>{e.exports=function(e,t){var a=-1,r=e.length;for(t||(t=Array(r));++a<r;)t[a]=e[a];return t}},1791:(e,t,a)=>{var r=a(6547),n=a(3360);e.exports=function(e,t,a,s){var i=!a;a||(a={});for(var o=-1,l=t.length;++o<l;){var c=t[o],p=s?s(a[c],e[c],c,a,e):void 0;void 0===p&&(p=e[c]),i?n(a,c,p):r(a,c,p)}return a}},2271:(e,t,a)=>{var r=a(1791),n=a(4664);e.exports=function(e,t){return r(e,n(e),t)}},8948:(e,t,a)=>{var r=a(1791),n=a(6375);e.exports=function(e,t){return r(e,n(e),t)}},5481:(e,t,a)=>{var r=a(9325)["__core-js_shared__"];e.exports=r},3243:(e,t,a)=>{var r=a(6110),n=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=n},5911:(e,t,a)=>{var r=a(8859),n=a(4248),s=a(9219);e.exports=function(e,t,a,i,o,l){var c=1&a,p=e.length,d=t.length;if(p!=d&&!(c&&d>p))return!1;var u=l.get(e),g=l.get(t);if(u&&g)return u==t&&g==e;var b=-1,m=!0,h=2&a?new r:void 0;for(l.set(e,t),l.set(t,e);++b<p;){var f=e[b],y=t[b];if(i)var v=c?i(y,f,b,t,e,l):i(f,y,b,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(h){if(!n(t,(function(e,t){if(!s(h,t)&&(f===e||o(f,e,a,i,l)))return h.push(t)}))){m=!1;break}}else if(f!==y&&!o(f,y,a,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},1986:(e,t,a)=>{var r=a(1873),n=a(7828),s=a(5288),i=a(5911),o=a(317),l=a(4247),c=r?r.prototype:void 0,p=c?c.valueOf:void 0;e.exports=function(e,t,a,r,c,d,u){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var g=o;case"[object Set]":var b=1&r;if(g||(g=l),e.size!=t.size&&!b)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var h=i(g(e),g(t),r,c,d,u);return u.delete(e),h;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1}},689:(e,t,a)=>{var r=a(2),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,a,s,i,o){var l=1&a,c=r(e),p=c.length;if(p!=r(t).length&&!l)return!1;for(var d=p;d--;){var u=c[d];if(!(l?u in t:n.call(t,u)))return!1}var g=o.get(e),b=o.get(t);if(g&&b)return g==t&&b==e;var m=!0;o.set(e,t),o.set(t,e);for(var h=l;++d<p;){var f=e[u=c[d]],y=t[u];if(s)var v=l?s(y,f,u,t,e,o):s(f,y,u,e,t,o);if(!(void 0===v?f===y||i(f,y,a,s,o):v)){m=!1;break}h||(h="constructor"==u)}if(m&&!h){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}},4840:(e,t,a)=>{var r="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;e.exports=r},2:(e,t,a)=>{var r=a(2199),n=a(4664),s=a(5950);e.exports=function(e){return r(e,s,n)}},3349:(e,t,a)=>{var r=a(2199),n=a(6375),s=a(7241);e.exports=function(e){return r(e,s,n)}},2651:(e,t,a)=>{var r=a(4218);e.exports=function(e,t){var a=e.__data__;return r(t)?a["string"==typeof t?"string":"hash"]:a.map}},6110:(e,t,a)=>{var r=a(5083),n=a(392);e.exports=function(e,t){var a=n(e,t);return r(a)?a:void 0}},8879:(e,t,a)=>{var r=a(4335)(Object.getPrototypeOf,Object);e.exports=r},659:(e,t,a)=>{var r=a(1873),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),a=e[o];try{e[o]=void 0;var r=!0}catch(e){}var n=i.call(e);return r&&(t?e[o]=a:delete e[o]),n}},4664:(e,t,a)=>{var r=a(9770),n=a(3345),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return s.call(e,t)})))}:n;e.exports=o},6375:(e,t,a)=>{var r=a(4528),n=a(8879),s=a(4664),i=a(3345),o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=n(e);return t}:i;e.exports=o},5861:(e,t,a)=>{var r=a(5580),n=a(8223),s=a(2804),i=a(6545),o=a(8303),l=a(2552),c=a(7473),p="[object Map]",d="[object Promise]",u="[object Set]",g="[object WeakMap]",b="[object DataView]",m=c(r),h=c(n),f=c(s),y=c(i),v=c(o),_=l;(r&&_(new r(new ArrayBuffer(1)))!=b||n&&_(new n)!=p||s&&_(s.resolve())!=d||i&&_(new i)!=u||o&&_(new o)!=g)&&(_=function(e){var t=l(e),a="[object Object]"==t?e.constructor:void 0,r=a?c(a):"";if(r)switch(r){case m:return b;case h:return p;case f:return d;case y:return u;case v:return g}return t}),e.exports=_},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2032:(e,t,a)=>{var r=a(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,a)=>{var r=a(1042),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return n.call(t,e)?t[e]:void 0}},2749:(e,t,a)=>{var r=a(1042),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}},5749:(e,t,a)=>{var r=a(1042);e.exports=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var a=e.length,r=new e.constructor(a);return a&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},7199:(e,t,a)=>{var r=a(9653),n=a(6169),s=a(3201),i=a(3736),o=a(1961);e.exports=function(e,t,a){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return n(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,a);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Symbol]":return i(e)}}},5529:(e,t,a)=>{var r=a(9344),n=a(8879),s=a(5527);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(n(e))}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,a){var r=typeof e;return!!(a=null==a?9007199254740991:a)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<a}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,a)=>{var r,n=a(5481),s=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!s&&s in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var a=e&&e.constructor;return e===("function"==typeof a&&a.prototype||t)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,a)=>{var r=a(6025),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,a=r(t,e);return!(a<0||(a==t.length-1?t.pop():n.call(t,a,1),--this.size,0))}},4739:(e,t,a)=>{var r=a(6025);e.exports=function(e){var t=this.__data__,a=r(t,e);return a<0?void 0:t[a][1]}},8655:(e,t,a)=>{var r=a(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,a)=>{var r=a(6025);e.exports=function(e,t){var a=this.__data__,n=r(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this}},3040:(e,t,a)=>{var r=a(1549),n=a(79),s=a(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||n),string:new r}}},7670:(e,t,a)=>{var r=a(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,a)=>{var r=a(2651);e.exports=function(e){return r(this,e).get(e)}},4509:(e,t,a)=>{var r=a(2651);e.exports=function(e){return r(this,e).has(e)}},2949:(e,t,a)=>{var r=a(2651);e.exports=function(e,t){var a=r(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this}},317:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e,r){a[++t]=[r,e]})),a}},1042:(e,t,a)=>{var r=a(6110)(Object,"create");e.exports=r},3650:(e,t,a)=>{var r=a(4335)(Object.keys,Object);e.exports=r},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}},6009:(e,t,a)=>{e=a.nmd(e);var r=a(4840),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,i=s&&s.exports===n&&r.process,o=function(){try{return s&&s.require&&s.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(a){return e(t(a))}}},9325:(e,t,a)=>{var r=a(4840),n="object"==typeof self&&self&&self.Object===Object&&self,s=r||n||Function("return this")();e.exports=s},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},4247:e=>{e.exports=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}},1420:(e,t,a)=>{var r=a(79);e.exports=function(){this.__data__=new r,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,a)=>{var r=a(79),n=a(8223),s=a(3661);e.exports=function(e,t){var a=this.__data__;if(a instanceof r){var i=a.__data__;if(!n||i.length<199)return i.push([e,t]),this.size=++a.size,this;a=this.__data__=new s(i)}return a.set(e,t),this.size=a.size,this}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},8055:(e,t,a)=>{var r=a(9999);e.exports=function(e){return r(e,5)}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},2428:(e,t,a)=>{var r=a(7534),n=a(346),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return n(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,a)=>{var r=a(1882),n=a(294);e.exports=function(e){return null!=e&&n(e.length)&&!r(e)}},3656:(e,t,a)=>{e=a.nmd(e);var r=a(9325),n=a(9935),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||n;e.exports=l},2404:(e,t,a)=>{var r=a(270);e.exports=function(e,t){return r(e,t)}},1882:(e,t,a)=>{var r=a(2552),n=a(3805);e.exports=function(e){if(!n(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7730:(e,t,a)=>{var r=a(9172),n=a(7301),s=a(6009),i=s&&s.isMap,o=i?n(i):r;e.exports=o},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8440:(e,t,a)=>{var r=a(6038),n=a(7301),s=a(6009),i=s&&s.isSet,o=i?n(i):r;e.exports=o},7167:(e,t,a)=>{var r=a(4901),n=a(7301),s=a(6009),i=s&&s.isTypedArray,o=i?n(i):r;e.exports=o},5950:(e,t,a)=>{var r=a(695),n=a(8984),s=a(4894);e.exports=function(e){return s(e)?r(e):n(e)}},7241:(e,t,a)=>{var r=a(695),n=a(2903),s=a(4894);e.exports=function(e){return s(e)?r(e,!0):n(e)}},3345:e=>{e.exports=function(){return[]}},9935:e=>{e.exports=function(){return!1}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r](s,s.exports,a),s.loaded=!0,s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=window.React;var t=a(8055),r=a.n(t);const n=["div","p","section","h1","h2","h3","h4","h5","h6","span","ul","ol","li","a","img","figcaption","blockquote","button","svg","time","nav","main","aside","article","header","footer","caption","picture","figure","details","summary","form","input","textarea","label","fieldset","legend","table","th","tr","td","body"];function s(e,t){if(!n.includes(e.tagName.toLowerCase()))return null;const a=function(e){const t={};for(let a=0;a<e.attributes.length;a++){const r=e.attributes[a];"src"===r.name&&"img"===e.tagName.toLowerCase()?t[r.name]=i(r.value,e):t[r.name]=r.value}return t}(e),r=o(e,t),l=function(e,t){if("svg"===e.tagName.toLowerCase())return[{type:"text",content:e.outerHTML}];const a=[];for(let r=0;r<e.childNodes.length;r++){const n=e.childNodes[r];if(n.nodeType===Node.ELEMENT_NODE){o(n,t);const e=s(n,t);e&&a.push(e)}else n.nodeType===Node.TEXT_NODE&&n.textContent&&""!==n.textContent.trim()&&a.push({type:"text",content:n.textContent})}return a}(e,t);return{tagName:e.tagName.toLowerCase(),attributes:a,cssAttributes:r.desktop,mobileCssAttributes:r.mobile,tabletCssAttributes:r.tablet,children:l,nodeType:e.nodeType}}function i(e,t){const a=t.ownerDocument.baseURI;try{return new URL(e,a).href}catch(t){return console.error("Error getting absolute URL:",t),e}}function o(e,t){const a={desktop:{},tablet:{},mobile:{}},{uncategorized:r,categories:n}=function(e,t){const a=new l(e,t).analyze();return(new c).categorizeBreakpoints(a.breakpoints,a.styles)}(e,t),s=new Set;return["desktop","tablet","mobile"].forEach((e=>{const t=a[e];r.forEach((e=>{Object.entries(e.styles).forEach((([e,a])=>{t[e]=a,s.add(e)}))})),n.forEach((a=>{a.name===e&&Object.entries(a.styles).forEach((([e,a])=>{t[e]=a,s.add(e)}))}))})),a}class l{constructor(e,t){this.element=e,this.stylesheet=t,this.mediaQueries=new Set,this.parsedQueries=new Map,this.cssVariables=new Map}analyze(){this.collectMediaQueries(),this.collectCSSVariables();const e=this.generateBreakpoints();return{breakpoints:e,styles:this.extractStyles(e)}}collectCSSVariables(){this.cssVariables.set("default",new Map),this.stylesheet.forEach((e=>{try{Array.from(e.cssRules||e.rules).forEach((e=>{this.processCollectCSSVariableRule(e)}))}catch(e){console.warn("Cannot read stylesheet:",e instanceof Error?e.message:"Unknown error")}}))}processCollectCSSVariableRule(e){if(e instanceof CSSStyleRule)this.extractVariablesFromRule(e,"default");else if(e instanceof CSSMediaRule&&this.doesRuleAffectElement(e)){const t=e.conditionText||e.media.mediaText;this.cssVariables.has(t)||this.cssVariables.set(t,new Map),Array.from(e.cssRules).forEach((e=>{e instanceof CSSStyleRule&&this.extractVariablesFromRule(e,t)}))}else(e instanceof CSSLayerBlockRule||e instanceof CSSSupportsRule||e instanceof CSSContainerRule)&&Array.from(e.cssRules).forEach((e=>{this.processCollectCSSVariableRule(e)}))}extractVariablesFromRule(e,t){if(this.doesSelectorAffectElement(e.selectorText)){const a=e.style;for(let e=0;e<a.length;e++){const r=a[e];if(r.startsWith("--")){const e=a.getPropertyValue(r).trim();this.cssVariables.get(t)?.set(r,e)}}}}doesSelectorAffectElement(e){try{return this.element.matches(e)||null!==this.element.closest(e)||":root"===e||"html"===e||"body"===e}catch{return!1}}resolveCSSVariable(e,t,a=new Set){if(a.has(e))return console.warn(`Circular reference detected in CSS variables: ${e}`),"";a.add(e);let r=this.cssVariables.get(t)?.get(e)||this.cssVariables.get("default")?.get(e)||"";return r=r.replace(/var\((--[^,)]+)(?:,([^)]+))?\)/g,((e,r,n)=>this.resolveCSSVariable(r,t,a)||n||"")),r.includes("calc(")&&(r=this.evaluateCalc(r)),r}evaluateCalc(e){try{const t=e.replace(/calc\((.*?)\)/g,"$1").replace(/(\d+)px/g,"$1").replace(/(\d+)rem/g,((e,t)=>String(parseFloat(t)*parseFloat(getComputedStyle(document.documentElement).fontSize)))).replace(/(\d+)em/g,((e,t)=>String(parseFloat(t)*parseFloat(getComputedStyle(this.element).fontSize))));return`${Function(`'use strict'; return (${t})`)()}px`}catch{return e}}collectMediaQueries(){this.stylesheet.forEach((e=>{try{Array.from(e.cssRules||e.rules).forEach((e=>{this.processCollectMediaQueriesRule(e)}))}catch(e){console.warn("Cannot read stylesheet:",e instanceof Error?e.message:"Unknown error")}}))}processCollectMediaQueriesRule(e){if(e instanceof CSSMediaRule&&this.doesRuleAffectElement(e)){const t=e.conditionText||e.media.mediaText;this.mediaQueries.add(t),this.parsedQueries.set(t,this.parseMediaQuery(t))}else e instanceof CSSLayerBlockRule||e instanceof CSSSupportsRule||e instanceof CSSContainerRule?Array.from(e.cssRules).forEach((e=>{this.processCollectMediaQueriesRule(e)})):e instanceof CSSStyleRule&&Array.from(e.cssRules).filter((t=>t instanceof CSSMediaRule&&this.element.matches(e.selectorText))).forEach((e=>{const t=e.conditionText||e.media.mediaText;this.mediaQueries.add(t),this.parsedQueries.set(t,this.parseMediaQuery(t))}))}doesRuleAffectElement(e){return Array.from(e.cssRules).some((e=>e instanceof CSSStyleRule&&this.element.matches(e.selectorText)))}parseMediaQuery(e){const t={minWidth:null,maxWidth:null,orientation:null,type:null,originalQuery:e};e.includes("screen")&&(t.type="screen"),e.includes("print")&&(t.type="print");const a=e.match(/\(min-width:\s*(\d+)([a-z]*)\)/);a&&(t.minWidth=this.convertToPx(parseInt(a[1]),a[2]));const r=e.match(/\(max-width:\s*(\d+)([a-z]*)\)/);r&&(t.maxWidth=this.convertToPx(parseInt(r[1]),r[2]));const n=e.match(/width\s*>=\s*(\d+(?:\.\d+)?)([a-z]*)/i);n&&(t.minWidth=this.convertToPx(parseFloat(n[1]),n[2]));const s=e.match(/width\s*<=\s*(\d+(?:\.\d+)?)([a-z]*)/i);s&&(t.maxWidth=this.convertToPx(parseFloat(s[1]),s[2]));const i=e.match(/width\s*=\s*(\d+(?:\.\d+)?)([a-z]*)/i);if(i){const e=this.convertToPx(parseFloat(i[1]),i[2]);t.minWidth=e,t.maxWidth=e}return e.includes("orientation: portrait")&&(t.orientation="portrait"),e.includes("orientation: landscape")&&(t.orientation="landscape"),t}generateBreakpoints(){const e=[],t=new Set;return this.parsedQueries.forEach((e=>{e.minWidth&&t.add(e.minWidth),e.maxWidth&&t.add(e.maxWidth)})),Array.from(t).sort(((e,t)=>e-t)).forEach(((t,a)=>{const r=Array.from(this.parsedQueries.entries()).filter((([e,a])=>{const r=!a.minWidth||a.minWidth<=t,n=!a.maxWidth||a.maxWidth>=t;return r&&n}));r.length>0&&r.forEach((([t,a])=>{e.push({minWidth:a.minWidth,maxWidth:a.maxWidth,orientation:a.orientation||void 0,type:a.type||void 0,query:t})}))})),e.unshift({query:"default"}),this.mergeOverlappingBreakpoints(e)}mergeOverlappingBreakpoints(e){return e.reduce(((e,t)=>(e.find((e=>this.areBreakpointsEqual(e,t)))||e.push(t),e)),[])}areBreakpointsEqual(e,t){return e.minWidth===t.minWidth&&e.maxWidth===t.maxWidth&&e.orientation===t.orientation&&e.type===t.type}extractStyles(e){const t={};return e.forEach((e=>{const a=this.generateBreakpointName(e);t[a]={mediaQuery:e.query,styles:{},variables:{}}})),this.stylesheet.forEach((a=>{try{Array.from(a.cssRules||a.rules).forEach((a=>{this.processExtractStylesRule(a,t,e)}))}catch(e){console.warn("Cannot read stylesheet:",e instanceof Error?e.message:"Unknown error")}})),t}processExtractStylesRule(e,t,a){if(e instanceof CSSStyleRule)Object.values(t).forEach((t=>{this.extractStyleRule(e,t.styles,"default",t.variables)})),Array.from(e.cssRules).filter((e=>e instanceof CSSMediaRule)).forEach((r=>{const n=r.conditionText||r.media.mediaText,s=this.findMatchingBreakpointName(n,a);s&&t[s]&&Array.from(r.cssRules).forEach((a=>{this.extractStyleRule(a,t[s].styles,n,t[s].variables,this.element.matches(e.selectorText))}))}));else if(e instanceof CSSMediaRule){const r=e.conditionText||e.media.mediaText,n=this.findMatchingBreakpointName(r,a);n&&t[n]&&Array.from(e.cssRules).forEach((e=>{e instanceof CSSStyleRule&&this.extractStyleRule(e,t[n].styles,r,t[n].variables)}))}else(e instanceof CSSLayerBlockRule||e instanceof CSSSupportsRule||e instanceof CSSContainerRule)&&Array.from(e.cssRules).forEach((e=>{this.processExtractStylesRule(e,t,a)}))}defaultValues=["inherit","initial"];extractStyleRule(e,t,a,r,n=!1){if(!this.element.matches(e.selectorText)&&!n)return;const s=e.style;for(let e=0;e<s.length;e++){const n=s[e];let i=s.getPropertyValue(n);i.includes("var")&&(i=this.resolveNestedCSSVariables(i,a,r)),i&&!i.includes("var")&&(t[n]=i,n.startsWith("--")&&(r[n]=i))}}resolveNestedCSSVariables(e,t,a){let r=e,n=!0,s=10;for(;n&&s>0;)n=!1,s--,r=r.replace(/var\((--[^,)]+)(?:,([^)]+))?\)/g,((e,r,s)=>{let i=this.resolveCSSVariable(r,t);return!i&&s&&(i=s.includes("var(")?this.resolveNestedCSSVariables(s.trim(),t,a):s.trim()),i&&i.includes("var(")&&(n=!0),i||""}));return r}convertToPx(e,t="px"){const a=parseFloat(getComputedStyle(document.documentElement).fontSize);switch(t){case"px":default:return e;case"em":return 16*e;case"rem":return e*a;case"vw":return e*window.innerWidth/100;case"vh":return e*window.innerHeight/100}}generateBreakpointName(e){if("default"===e.query)return"default";const t=[];return e.minWidth&&t.push(`min${e.minWidth}`),e.maxWidth&&t.push(`max${e.maxWidth}`),e.orientation&&t.push(e.orientation),e.type&&t.push(e.type),t.join("-")||"custom"}findMatchingBreakpointName(e,t){const a=t.find((t=>t.query===e));return a?this.generateBreakpointName(a):null}}class c{standardRanges={mobile:{min:320,max:600},tablet:{min:500,max:900},desktop:{min:768,max:1440}};categorizeBreakpoints(e,t){const a=[],r=[],n=[...e].sort(((e,t)=>{let a=e.minWidth||0,r=t.minWidth||0;return"default"===e.query&&(a+=2e3),"default"===t.query&&(r+=2e3),a-r}));switch(n.length){case 1:this.categorizeSingleBreakpoint(n[0],t,a,r);break;case 2:this.categorizeTwoBreakpoints(n,t,a,r);break;case 3:this.categorizeThreeBreakpoints(n,t,a,r);break;default:this.categorizeMultipleBreakpoints(n,t,a,r)}return{categories:a,uncategorized:r}}categorizeSingleBreakpoint(e,t,a,r){e.minWidth||e.maxWidth?e.maxWidth&&e.maxWidth<=this.standardRanges.mobile.max?a.push(this.createCategory("mobile",e,t)):e.minWidth&&e.minWidth>=this.standardRanges.desktop.min?a.push(this.createCategory("desktop",e,t)):r.push({mediaQuery:e.query,styles:t[this.getStyleKey(e,t)].styles}):a.push(this.createCategory("desktop",e,t))}categorizeTwoBreakpoints(e,t,a,r){const[n,s]=e;this.isDesktopMobilePattern(n,s)?(a.push(this.createCategory("mobile",n,t)),a.push(this.createCategory("desktop",s,t))):this.isDesktopTabletPattern(n,s)?(a.push(this.createCategory("tablet",n,t)),a.push(this.createCategory("desktop",s,t))):this.isTabletMobilePattern(n,s)?(a.push(this.createCategory("mobile",n,t)),a.push(this.createCategory("tablet",s,t))):e.forEach((e=>{r.push({mediaQuery:e.query,styles:t[this.getStyleKey(e,t)].styles})}))}categorizeThreeBreakpoints(e,t,a,r){const[n,s,i]=e;this.isStandardThreeBreakpointPattern(n,s,i)?(a.push(this.createCategory("mobile",n,t)),a.push(this.createCategory("tablet",s,t)),a.push(this.createCategory("desktop",i,t))):e.forEach((e=>{this.fitsStandardCategory(e)?a.push(this.createCategory(this.determineCategory(e),e,t)):r.push({mediaQuery:e.query,styles:t[this.getStyleKey(e,t)].styles})}))}categorizeMultipleBreakpoints(e,t,a,r){const n=this.findBestMatch(e,"mobile"),s=this.findBestMatch(e,"tablet"),i=this.findBestMatch(e,"desktop");n&&a.push(this.createCategory("mobile",n,t)),s&&a.push(this.createCategory("tablet",s,t)),i&&a.push(this.createCategory("desktop",i,t)),e.forEach((e=>{[n,s,i].includes(e)||r.push({mediaQuery:e.query,styles:t[this.getStyleKey(e,t)].styles})}))}isDesktopMobilePattern(e,t){return e.maxWidth&&e.maxWidth<=this.standardRanges.mobile.max&&(t.minWidth&&t.minWidth>=this.standardRanges.desktop.min||"default"===t.query)}isDesktopTabletPattern(e,t){return e.maxWidth&&e.maxWidth<=this.standardRanges.tablet.max&&(t.minWidth&&t.minWidth>=this.standardRanges.desktop.min||"default"===t.query)}isTabletMobilePattern(e,t){return e.maxWidth&&e.maxWidth<=this.standardRanges.mobile.max&&t.minWidth&&t.minWidth<=this.standardRanges.tablet.max}isStandardThreeBreakpointPattern(e,t,a){return this.fits("mobile",e)&&this.fits("tablet",t)&&this.fits("desktop",a)}fits(e,t){const a=this.standardRanges[e];return"mobile"===e?!!(t.maxWidth&&t.maxWidth&&t.maxWidth<=a.max):"desktop"===e?!!(t.minWidth&&t.minWidth>=a.min):!!(t.minWidth&&t.minWidth>=a.min&&t.minWidth<=this.standardRanges.desktop.min||t.maxWidth&&t.maxWidth<=a.max&&t.maxWidth>=this.standardRanges.mobile.max)}findBestMatch(e,t){return e.find((e=>this.fits(t,e)))||null}createCategory(e,t,a){return{name:e,minWidth:t.minWidth,maxWidth:t.maxWidth,mediaQuery:t.query,styles:a[this.getStyleKey(t,a)].styles}}getStyleKey(e,t){return Object.keys(t).find((a=>t[a].mediaQuery===e.query))||"default"}fitsStandardCategory(e){return this.fits("mobile",e)||this.fits("tablet",e)||this.fits("desktop",e)}determineCategory(e){return this.fits("mobile",e)?"mobile":this.fits("tablet",e)?"tablet":"desktop"}}function p(e){return e.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))}function d(e){return e.trim().replace(/^[\s\r\n]+|[\s\r\n]+$/g,"")}function u(e){if(!e)return"";if(e?.nodeType===Node.TEXT_NODE)return e.nodeValue;let t=e.tagName;const a=function(e){const{cssAttributes:t,mobileCssAttributes:a,tabletCssAttributes:r}=e;if(!t)return{};const n={};return Object.entries(t).forEach((([e,t])=>{const a=p(e);n[a]=[t]})),Object.entries(r).forEach((([e,t])=>{const a=p(e);n[a]?n[a][1]=r[e]:n[a]=[null,t]})),Object.entries(a).forEach((([e,t])=>{const r=p(e);n[r]?n[r][3]=a[e]:n[r]=[null,null,null,t]})),Object.keys(n).forEach((e=>{const t=n[e];let a=-1;for(let e=t.length-1;e>=0;e--)if(null!==t[e]){a=e;break}n[e]=a>=0?t.slice(0,a+1):[t[0]]})),n}(e);"div"===t&&(a?.width?.[0]?.includes("px")&&delete a.width,a?.height?.[0]?.includes("px")&&delete a.height);const r="gsbp-"+Math.random().toString(16).slice(2,9),n=r;let s,i="inner";const o=e.children;switch(t){case"img":i="none";const t=e.attributes?.src,a=e.attributes?.alt;s={...t&&{src:t},...a&&{alt:a}};break;case"svg":i="text",s={tag:"svg",icon:{type:"svg",icon:{svg:o[0].content}}};break;case"label":i="text",s=1===o?.length&&"text"===o[0].type?{tag:"label",formAttributes:{value:o[0].content?d(o[0].content):""},textContent:o[0].content?d(o[0].content):""}:{tag:"label"};break;default:o.find((e=>e?.nodeType===Node.ELEMENT_NODE&&!["br"].includes(e.tagName)))?(i="inner",e.children=o.filter((e=>e?.nodeType!==Node.COMMENT_NODE)).filter((e=>!(e?.nodeType===Node.TEXT_NODE&&""===e?.nodeValue?.replace(/[\s\n\r]/g,"")))).map((e=>e?.nodeType===Node.ELEMENT_NODE?e:{children:[e],nodeType:1,tagName:"span"}))):1===o?.length&&"text"===o[0].type?(s={textContent:o[0].content?d(o[0].content):""},i="text"):(i="html",s={textContent:o.map((e=>e.content?e.content:"br"===e.tagName?"<br>":"")).join("")})}const l={id:r,tag:t,localId:n,type:i,className:"",styleAttributes:a,...s&&{...s}};e.attributes=l;const c=function(e){let t=e.originalContent;return e.children&&(t=function(e,t,a=[],r){const{id:n,className:s,type:i}=t;let o="inner"===i?a.filter((e=>e.nodeType===Node.ELEMENT_NODE||"text"===e.type)).map((e=>"text"===e.type?e.content:u(e))).join("\n\n"):"";if("svg"===e){const e=function(e,t){if(e){let a,r,n="0 0 100 100",s=null;const i=(new DOMParser).parseFromString(e,"image/svg+xml").querySelector("svg");if(i&&(n=i.getAttribute("viewBox")||n,a=i.getAttribute("width"),r=i.getAttribute("height"),e=i.innerHTML,s?.enable&&s?.text)){let t="textPath"+props.attributes.id;const a=i.querySelector("path, polygon, circle, rect, ellipse");a&&a.setAttribute("id",t);const r=document.createElementNS("http://www.w3.org/2000/svg","text"),n=document.createElementNS("http://www.w3.org/2000/svg","textPath");n.setAttribute("href","#"+t),n.textContent=s.text,r.appendChild(n),s.startOffset&&n.setAttribute("startOffset",s.startOffset),s.textLength&&n.setAttribute("textLength",s.textLength),s.lengthAdjust&&n.setAttribute("lengthAdjust",s.lengthAdjust),s.fill&&r.setAttribute("fill",s.fill),i.appendChild(r),e=i.innerHTML}return a=a?a=` width="${a}"`:"",r=r?r=` height="${r}"`:"",`<svg viewBox="${n}"${a}${r} class="${t}">${e}</svg>`}return e}(t.icon.icon.svg,n);return e}return"form"===e?`<${e} class="${n}" method="get" action="">${o}</${e}>`:"inner"===i?`<${e} class="${n}">${o}</${e}>`:"text"===i?t.textContent?`<${e} class="${n}">${t.textContent}</${e}>`:`<${e} class="${n}"></${e}>`:"html"===i?`<${e} class="${n}">${t.textContent}</${e}>`:"img"===e?`<${e} class="${n}"  ${t.src?`src="${t.src}"`:'src=""'} ${t.alt?`alt="${t.alt}"`:'alt=""'} loading="lazy"/>`:`<${e} class="${n}">${o}</${e}>`}(e.tagName,e.attributes,e.children)),t}(e);return function(e,t,a){const r=t&&Object.entries(t).length?function(e){const t=e;return JSON.stringify(t).replace(/--/g,"\\u002d\\u002d").replace(/</g,"\\u003c").replace(/>/g,"\\u003e").replace(/&/g,"\\u0026").replace(/\\"/g,"\\u0022")}(t)+" ":"",n=e?.startsWith("core/")?e.slice(5):e;return a?`\x3c!-- wp:${n} ${r}--\x3e\n`+a+`\n\x3c!-- /wp:${n} --\x3e`:`\x3c!-- wp:${n} ${r}/--\x3e`}("greenshift-blocks/element",l,c)}function g(e){const t=(new DOMParser).parseFromString(e,"text/html"),a=Array.from(t.querySelectorAll("style")).map((e=>{const t=document.createElement("style");t.textContent=e.textContent,document.head.appendChild(t);const a=t.sheet;return document.head.removeChild(t),a})),r=document.createElement("div");for(;t.body.firstChild;)r.appendChild(t.body.firstChild);const n=function(e,t){return s(e,t)}(r,a);var i;return i=[n],(Array.isArray(i)?i:[i]).map((e=>u(e))).join("\n\n")}const b={id:{type:"string",default:null},elements:{type:"object",default:{h1:{},h2:{},h3:{},h4:{},h5:{},p:{},button:{},bodybg:{}}},colors:{type:"object",default:{one:"#2184f9",two:"#e90000",three:"#2adb32",four:"#696cff",five:"#ff9800"}},gradients:{type:"object",default:{one:"linear-gradient(118deg, #21D4FD 0%, #B721FF 100%)",two:"linear-gradient(147deg, #FFE53B 0%, #FF2525 74%)"}},site_logo:{type:"object",default:{id:null,url:null}},site_icon:{type:"object",default:{id:null,url:null}},title:{type:"string"},description:{type:"string"},variables:{type:"array",default:[]},darkmode:{type:"boolean",default:!1},darkmodecolors:{type:"object",default:{}}},m=window.wp.i18n,h=window.wp.components,f=window.wp.blockEditor,y=window.wp.element;var v=a(2404),_=a.n(v);const{AddRemoveItemButton:w}=gspblib.components;function k(t){const{postSave:a=!0,...r}=t,[n,s]=(0,y.useState)(!1),[i,o]=(0,y.useState)({});return(0,y.useEffect)((()=>{_()(t.attributes.colors,greenShift_params.colours)||t.setAttributes({colors:greenShift_params.colours}),_()(t.attributes.gradients,greenShift_params.gradients)||t.setAttributes({gradients:greenShift_params.gradients});let e=wp.data.select("core/block-editor")?.getSettings()?.colors;e&&o(e)}),[]),(0,e.createElement)(e.Fragment,null,i&&Object.keys(i).length>0&&greenShift_params&&"greenshift"==greenShift_params.theme&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)",marginBottom:30}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Theme Colors","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"}},(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{let e=wp.data.select("core").__experimentalGetCurrentGlobalStylesId();if(e){let t=wp.data.select("core").getEditedEntityRecord("root","globalStyles",e).settings;if(t&&t.color){let r=JSON.parse(JSON.stringify(t));r.color&&r.color.palette&&r.color.palette.theme&&r.color.palette.theme.length>0&&(r.color.palette.theme.map(((e,t)=>{let a=r.color.palette.theme.findIndex((t=>t.slug===e.slug));if(-1!==a){let e=i[a];r.color.palette.theme[a].color=e.color}})),wp.data.dispatch("core").editEntityRecord("root","globalStyles",e,{settings:r}),wp.data.dispatch("core").saveEditedEntityRecord("root","globalStyles",e),a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Colors are updated in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),setTimeout((()=>{let e=window.location.href;e+="&tab=colors",window.location.href=e}),1e3))}else wp.apiFetch({path:"greenshift/v1/global_wp_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{colors:i}}).then((e=>{const{success:t}=JSON.parse(e);t&&(a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global colors are updated in database. Page is reloading...","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),setTimeout((()=>{let e=window.location.href;e+="&tab=colors",window.location.href=e}),1e3))}))}}},(0,e.createElement)("i",{className:"rhicon rhi-inbox"})," ",(0,m.__)("Save","greenshift-animation-and-page-builder-blocks")))),(0,e.createElement)("div",{className:"stylebook-colors-grid stylebook-colors-grid-4"},Object.keys(i).map(((t,a)=>(0,e.createElement)("div",{className:"stylebook-colors-grid-item",key:a},(0,e.createElement)(h.ColorPalette,{enableAlpha:!0,value:i[t].color,colors:i,onChange:e=>{let a=JSON.parse(JSON.stringify(i));a[t].color=e,o(a)}}))))),(0,e.createElement)("div",{style:{marginTop:30}})),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)",marginBottom:30}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Greenshift Color Presets","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"}},(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--danger gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{confirm((0,m.__)("Are you sure that you want to clean custom colors?","greenshift-animation-and-page-builder-blocks"))&&wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{colours:b.colors.default}}).then((e=>{const{success:r}=JSON.parse(e);r&&(t.setAttributes({colors:b.colors.default}),a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Colors are cleaned in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))}},(0,e.createElement)("i",{className:"rhicon rhi-download1"})," ",(0,m.__)("Restore default","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{colours:t.attributes.colors}}).then((e=>{const{success:r}=JSON.parse(e);r&&(t.setAttributes({colors:t.attributes.colors}),a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global colors are updated in database. Page is reloading...","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),s(!0),setTimeout((()=>{let e=window.location.href;e+="&tab=colors",window.location.href=e}),1e3))}))}},(0,e.createElement)("i",{className:"rhicon rhi-inbox"})," ",(0,m.__)("Save","greenshift-animation-and-page-builder-blocks")))),""==typeof greenShift_params.colours&&!n&&(0,e.createElement)("div",{className:"gspb-alert gspb-warning gspb-no-saved",style:{padding:"20px 0px"}},(0,e.createElement)("div",{style:{fontSize:14,color:"grey"}},(0,m.__)("You need to save colors to database to enable this functionality","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",{className:"stylebook-colors-grid"},t.attributes.colors&&Object.keys(t.attributes.colors).map(((a,r)=>(0,e.createElement)("div",{className:"stylebook-colors-grid-item",key:r},(0,e.createElement)(h.ColorPalette,{enableAlpha:!0,value:t.attributes.colors[a],colors:[{color:t.attributes.colors[a],name:a}],onChange:e=>{let r=JSON.parse(JSON.stringify(t.attributes.colors));r[a]=e,t.setAttributes({colors:r})}}))))),(0,e.createElement)(w,{handleAddClick:()=>{let e=Object.keys(t.attributes.colors).length,a=JSON.parse(JSON.stringify(t.attributes.colors));0==a.length&&(a={}),a["color"+(e+1)]="#ffffff",t.setAttributes({colors:a})},handleRemoveClick:()=>{let e=Object.keys(t.attributes.colors),a=e[e.length-1],r=JSON.parse(JSON.stringify(t.attributes.colors));delete r[a],t.setAttributes({colors:r})}}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)",marginBottom:30}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Greenshift Gradient Presets","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"}},(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--danger gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{confirm((0,m.__)("Are you sure that you want to clean custom gradients?","greenshift-animation-and-page-builder-blocks"))&&wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{gradients:b.gradients.default}}).then((e=>{const{success:r}=JSON.parse(e);r&&(t.setAttributes({gradients:b.gradients.default}),a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Gradients are cleaned in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))}},(0,e.createElement)("i",{className:"rhicon rhi-download1"})," ",(0,m.__)("Restore default","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{gradients:t.attributes.gradients}}).then((e=>{const{success:t}=JSON.parse(e);t&&(a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global gradients are updated in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))}},(0,e.createElement)("i",{className:"rhicon rhi-inbox"})," ",(0,m.__)("Save","greenshift-animation-and-page-builder-blocks")))),(0,e.createElement)("div",{className:"stylebook-gradients-grid"},t.attributes.gradients&&Object.keys(t.attributes.gradients).map(((a,r)=>(0,e.createElement)(h.Dropdown,{popoverProps:{placement:"bottom-start"},renderToggle:({onToggle:r})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{onClick:r,style:{border:"1px solid #c5c8ca"}},(0,e.createElement)("div",{style:{backgroundImage:t.attributes.gradients[a],width:"100%",height:"64px"}}),(0,e.createElement)("div",{style:{padding:"16px"}},(0,e.createElement)("div",{style:{fontSize:"15px"}},"Gradient"),(0,e.createElement)("div",{style:{fontSize:"15px",opacity:.7}},a)))),renderContent:({onToggle:n})=>(0,e.createElement)("div",{style:{minWidth:"290px"}},(0,e.createElement)("div",{className:"stylebook-gradient-grid-item",style:{width:"100%"},key:r},(0,e.createElement)(f.__experimentalColorGradientControl,{gradientValue:t.attributes.gradients[a],onGradientChange:e=>{let r=JSON.parse(JSON.stringify(t.attributes.gradients));r[a]=e,t.setAttributes({gradients:r})}})))})))),(0,e.createElement)(w,{handleAddClick:()=>{let e=Object.keys(t.attributes.gradients).length,a=JSON.parse(JSON.stringify(t.attributes.gradients));0==a.length&&(a={}),a["gradient"+(e+1)]="linear-gradient(118deg, #ffffff 0%, #f1f1f1 100%)",t.setAttributes({gradients:a})},handleRemoveClick:()=>{let e=Object.keys(t.attributes.gradients),a=e[e.length-1],r=JSON.parse(JSON.stringify(t.attributes.gradients));delete r[a],t.setAttributes({gradients:r})}}))}const{StyleTabs:x}=gspblib.collections,{collectionsObjects:E}=gspblib.helpers,{getFinalCssFromTabs:S}=gspblib.utilities;function C(t){const{postSave:a=!0,...r}=t,[n,s]=(0,y.useState)(!1);(0,y.useEffect)((()=>{_()(t.attributes.elements,greenShift_params.elements)||t.setAttributes({elements:greenShift_params.elements})}),[]);const i=(e,a,r)=>{const n=JSON.parse(JSON.stringify(t.attributes.elements||{}));if((void 0===n[r]||Array.isArray(n[r])||"object"!=typeof n[r])&&(n[r]={}),n[r][a]=e,"button"==r)n[r].css=S(n[r],":root .wp-block-button .wp-block-button__link","")+S(n[r],":root .wp-element-button",""),n[r].admincss=S(n[r],".editor-styles-wrapper .wp-element-button","")+S(n[r],".editor-styles-wrapper .wp-block-button .wp-block-button__link","");else if("bodybg"==r)n[r].css=S(n[r],"body.gspb-bodyfront",""),n[r].admincss=S(n[r],"body .editor-styles-wrapper","")+S(n[r],"body.editor-styles-wrapper","")+S(n[r],".post-type-gspbstylebook .editor-styles-wrapper","")+S(n[r],"body .editor-styles-wrapper .gs-stylebook-body-color__color","")+S(n[r],"body.editor-styles-wrapper .gs-stylebook-body-color__color","");else{let e="";"p"!=r&&(e=S(n[r],`:root ${r}`,""),e+=S(n[r],`${r}.wp-block-heading`,"")),"p"==r&&(e=S(n[r],"p",""),e+=S(n[r],"body.gspb-bodyfront","")),n[r].css=e,n[r].admincss=S(n[r],`body .editor-styles-wrapper ${r}`,"")+S(n[r],`body.editor-styles-wrapper ${r}`,"")+S(n[r],`body .editor-styles-wrapper ${r}.wp-block-heading`,"")+S(n[r],`body.editor-styles-wrapper ${r}.wp-block-heading`,""),"p"==r&&(n[r].admincss+=S(n[r],"body .editor-styles-wrapper","")+S(n[r],"body.editor-styles-wrapper","")+S(n[r],"body .editor-styles-wrapper .gs-stylebook-body-color__label","")+S(n[r],"body.editor-styles-wrapper .gs-stylebook-body-color__label",""))}t.setAttributes({elements:n})};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"gspb_style_global_heading_wrapper",style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)"}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Global Elements","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"}},(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--danger gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{confirm((0,m.__)("Are you sure you want to clean all styles?","greenshift-animation-and-page-builder-blocks"))&&wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{elements:{}}}).then((e=>{const{success:r}=JSON.parse(e);r&&(t.setAttributes({elements:b.elements.default}),a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Elements are cleaned in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))}},(0,e.createElement)("i",{className:"rhicon rhi-trash-alt"})," ",(0,m.__)("Clean All","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{elements:t.attributes.elements}}).then((e=>{const{success:t}=JSON.parse(e);t&&(a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Elements are updated in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),s(!0))}))}},(0,e.createElement)("i",{className:"rhicon rhi-inbox"})," ",(0,m.__)("Save","greenshift-animation-and-page-builder-blocks")))),""==typeof greenShift_params.elements&&!n&&(0,e.createElement)("div",{className:"gspb-alert gspb-warning gspb-no-saved",style:{padding:"20px 0px"}},(0,e.createElement)("div",{style:{fontSize:14,color:"grey"}},(0,m.__)("You need to save elements to database to enable this functionality","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",{className:"stylebook-elements-container",style:{marginTop:15}},["h1","h2","h3","h4","h5","p","button","bodybg"].map(((a,r)=>(0,e.createElement)("div",null,(0,e.createElement)(h.Dropdown,{focusOnMount:!0,popoverProps:{placement:"bottom-start"},renderToggle:({onToggle:t})=>(0,e.createElement)(e.Fragment,null,((t,a)=>{if(t){if("p"==t)return(0,e.createElement)("div",null,(0,e.createElement)("p",{className:"gspb-clickable",onClick:a},(0,m.__)("Body and Text element","greenshift-animation-and-page-builder-blocks")));if("button"==t)return(0,e.createElement)("div",{style:{marginTop:10}},(0,e.createElement)("span",{className:"wp-element-button gspb-clickable",onClick:a},(0,m.__)("Button","greenshift-animation-and-page-builder-blocks")));if("bodybg"==t)return(0,e.createElement)("div",{style:{marginTop:40}},(0,e.createElement)("div",{className:"gs-stylebook-body-color gspb-clickable",onClick:a},(0,e.createElement)("div",{className:"gs-stylebook-body-color__color"},(0,e.createElement)("div",{className:"gs-stylebook-body-color__label"},(0,m.__)("Body Color","greenshift-animation-and-page-builder-blocks")))));{let r=t.toLowerCase();return(0,e.createElement)("div",null,(0,e.createElement)(r,{className:"gspb-clickable",onClick:a},t.toUpperCase()," ",(0,m.__)("Heading Element","greenshift-animation-and-page-builder-blocks")))}}return null})(a,t)),renderContent:({onToggle:r})=>(0,e.createElement)("div",{style:{minWidth:"290px",maxHeight:"300px"}},"button"==a?(0,e.createElement)(x,{defaultTab:"Typography",typographyAttribute:t.attributes.elements?.[a]?.typography||E.typography,typographyTitle:(0,m.__)("Typography","greenshift-animation-and-page-builder-blocks"),typographyDefault:E.typography,typographyChange:e=>{i(e,"typography",a)},spacingAttribute:t.attributes.elements?.[a]?.spacing||E.spacing,spacingTitle:(0,m.__)("Spacing","greenshift-animation-and-page-builder-blocks"),spacingDefault:E.spacing,spacingChange:e=>{i(e,"spacing",a)},csstransformAttribute:t.attributes.elements?.[a]?.csstransform||E.csstransform,csstransformTitle:(0,m.__)("CSS Transform and transitions","greenshift-animation-and-page-builder-blocks"),csstransformDefault:E.csstransform,csstransformChange:e=>{i(e,"csstransform",a)},backgroundAttribute:t.attributes.elements?.[a]?.background||E.background,backgroundTitle:(0,m.__)("Background","greenshift-animation-and-page-builder-blocks"),backgroundDefault:E.background,backgroundChange:e=>{i(e,"background",a)},borderAttribute:t.attributes.elements?.[a]?.border||E.border,borderTitle:(0,m.__)("Border","greenshift-animation-and-page-builder-blocks"),borderDefault:E.border,borderChange:e=>{i(e,"border",a)},shadowAttribute:t.attributes.elements?.[a]?.shadow||E.shadow,shadowTitle:(0,m.__)("Shadow","greenshift-animation-and-page-builder-blocks"),shadowDefault:E.shadow,shadowChange:e=>{i(e,"shadow",a)},...t}):"bodybg"==a?(0,e.createElement)(x,{defaultTab:"Background",backgroundAttribute:t.attributes.elements?.[a]?.background||E.background,backgroundTitle:(0,m.__)("Background","greenshift-animation-and-page-builder-blocks"),backgroundDefault:E.background,backgroundChange:e=>{i(e,"background",a)},...t}):(0,e.createElement)(x,{defaultTab:"Typography",typographyAttribute:t.attributes.elements?.[a]?.typography||E.typography,typographyTitle:(0,m.__)("Typography","greenshift-animation-and-page-builder-blocks"),typographyDefault:E.typography,typographyChange:e=>{i(e,"typography",a)},spacingAttribute:t.attributes.elements?.[a]?.spacing||E.spacing,spacingTitle:(0,m.__)("Spacing","greenshift-animation-and-page-builder-blocks"),spacingDefault:E.spacing,spacingChange:e=>{i(e,"spacing",a)},shadowAttribute:t.attributes.elements?.[a]?.shadow||E.shadow,shadowTitle:(0,m.__)("Shadow","greenshift-animation-and-page-builder-blocks"),shadowDefault:E.shadow,shadowChange:e=>{i(e,"shadow",a)},...t}))}))))))}function N(t){const{postSave:a=!0,...n}=t,[s,i]=(0,y.useState)(),[o,l]=(0,y.useState)(),[c,p]=(0,y.useState)(),[d,u]=(0,y.useState)("custom"),[g,b]=(0,y.useState)(""),[f,v]=(0,y.useState)(!1),w=(0,y.useRef)(null),[k,x]=(0,y.useState)(!1),[E,S]=(0,y.useState)(!1);(0,y.useEffect)((()=>{_()(t.attributes.variables,greenShift_params.variables)||t.setAttributes({variables:greenShift_params.variables})}),[]);const C=(e,t)=>t.findIndex((t=>t.value===e)),N=(e,t)=>t.findIndex((t=>t.variable===e));let j={};return t.attributes.variables&&(j=t.attributes.variables.reduce(((e,t)=>(e[t.group]||(e[t.group]=[]),e[t.group].push(t),e)),{})),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)"}},(0,e.createElement)("div",{className:"gspb_style_global_heading",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"}},(0,m.__)("Global Variables","greenshift-animation-and-page-builder-blocks"),(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--danger gspb_inspector_btn--medium",style:{cursor:"pointer",fontWeight:400},onClick:()=>S(!E)},(0,e.createElement)("i",{className:"rhicon rhi-download1"})," ",(0,m.__)("Select Preset variable","greenshift-animation-and-page-builder-blocks")),E&&(0,e.createElement)(h.Popover,{position:"bottom right",onClose:()=>S(!1),className:"gspb-dropdown-popup"},(0,e.createElement)("div",{className:"",style:{width:400,padding:10}},Object.entries([{label:"Mini",value:"var(--wp--preset--font-size--mini)",variable:"--wp--preset--font-size--mini",variable_value:"11px",group:"size"},{label:"X Small",value:"var(--wp--preset--font-size--xs)",variable:"--wp--preset--font-size--xs",variable_value:"0.85rem",group:"size"},{label:"Small",value:"var(--wp--preset--font-size--s)",variable:"--wp--preset--font-size--s",variable_value:"1rem",group:"size"},{label:"Regular",value:"var(--wp--preset--font-size--r)",variable:"--wp--preset--font-size--r",variable_value:"1.2rem",group:"size"},{label:"Medium",value:"var(--wp--preset--font-size--m)",variable:"--wp--preset--font-size--m",variable_value:"1.35rem",group:"size"},{label:"Large",value:"var(--wp--preset--font-size--l)",variable:"--wp--preset--font-size--l",variable_value:"1.55rem",group:"size"},{label:"X Large",value:"var(--wp--preset--font-size--xl)",variable:"--wp--preset--font-size--xl",variable_value:"clamp(1.6rem, 2.75vw, 1.9rem)",group:"size"},{label:"XX Large",value:"var(--wp--preset--font-size--xxl)",variable:"--wp--preset--font-size--xxl",variable_value:"clamp(1.75rem, 3vw, 2.2rem)",group:"size"},{label:"High",value:"var(--wp--preset--font-size--high)",variable:"--wp--preset--font-size--high",variable_value:"clamp(1.9rem, 3.2vw, 2.4rem)",group:"size"},{label:"Grand",value:"var(--wp--preset--font-size--grand)",variable:"--wp--preset--font-size--grand",variable_value:"clamp(2.2rem, 4vw, 2.8rem)",group:"size"},{label:"Giga",value:"var(--wp--preset--font-size--giga)",variable:"--wp--preset--font-size--giga",variable_value:"clamp(3rem, 5vw, 4.5rem)",group:"size"},{label:"Giant",value:"var(--wp--preset--font-size--giant)",variable:"--wp--preset--font-size--giant",variable_value:"clamp(3.2rem, 6.2vw, 6.5rem)",group:"size"},{label:"Colossal",value:"var(--wp--preset--font-size--colossal)",variable:"--wp--preset--font-size--colossal",variable_value:"clamp(3.4rem, 9vw, 12rem)",group:"size"},{label:"God",value:"var(--wp--preset--font-size--god)",variable:"--wp--preset--font-size--god",variable_value:"clamp(3.5rem, 12vw, 15rem)",group:"size"},{label:"X Small",value:"var(--wp--preset--spacing--20)",variable:"--wp--preset--spacing--20",variable_value:"0.44rem",group:"spacing"},{label:"Small",value:"var(--wp--preset--spacing--30)",variable:"--wp--preset--spacing--30",variable_value:"0.67rem",group:"spacing"},{label:"Regular",value:"var(--wp--preset--spacing--40)",variable:"--wp--preset--spacing--40",variable_value:"1rem",group:"spacing"},{label:"Medium",value:"var(--wp--preset--spacing--50)",variable:"--wp--preset--spacing--50",variable_value:"1.5rem",group:"spacing"},{label:"Large",value:"var(--wp--preset--spacing--60)",variable:"--wp--preset--spacing--60",variable_value:"2.25rem",group:"spacing"},{label:"X Large",value:"var(--wp--preset--spacing--70)",variable:"--wp--preset--spacing--70",variable_value:"3.38rem",group:"spacing"},{label:"XX Large",value:"var(--wp--preset--spacing--80)",variable:"--wp--preset--spacing--80",variable_value:"5.06rem",group:"spacing"},{label:"High",value:"var(--wp--preset--spacing--90)",variable:"--wp--preset--spacing--90",variable_value:"7.59rem",group:"spacing"},{label:"Grand",value:"var(--wp--preset--spacing--100)",variable:"--wp--preset--spacing--100",variable_value:"11.39rem",group:"spacing"},{label:"Huge",value:"var(--wp--preset--spacing--110)",variable:"--wp--preset--spacing--110",variable_value:"17.09rem",group:"spacing"},{label:"Accent",value:"var(--wp--preset--shadow--accent)",variable:"--wp--preset--shadow--accent",variable_value:"0px 15px 25px 0px rgba(0, 0, 0, 0.1)",group:"shadow"},{label:"Mild",value:"var(--wp--preset--shadow--mild)",variable:"--wp--preset--shadow--mild",variable_value:"0px 5px 20px 0px rgba(0, 0, 0, 0.03)",group:"shadow"},{label:"Soft",value:"var(--wp--preset--shadow--soft)",variable:"--wp--preset--shadow--soft",variable_value:"0px 15px 30px 0px rgba(119, 123, 146, 0.1)",group:"shadow"},{label:"Elegant",value:"var(--wp--preset--shadow--elegant)",variable:"--wp--preset--shadow--elegant",variable_value:"0px 5px 23px 0px rgba(188, 207, 219, 0.35)",group:"shadow"},{label:"Focus",value:"var(--wp--preset--shadow--focus)",variable:"--wp--preset--shadow--focus",variable_value:"0px 2px 4px 0px rgba(0, 0, 0, 0.07)",group:"shadow"},{label:"Highlight",value:"var(--wp--preset--shadow--highlight)",variable:"--wp--preset--shadow--highlight",variable_value:"0px 32px 48px 0px rgba(0, 0, 0, 0.15)",group:"shadow"},{label:"Global Color",value:"var(--wp--custom--edges-color)",variable:"--wp--custom--edges-color",variable_value:"#00000012",group:"border"},{label:"Mini",value:"var(--wp--custom--border-radius--mini)",variable:"--wp--custom--border-radius--mini",variable_value:"5px",group:"border-radius"},{label:"Small",value:"var(--wp--custom--border-radius--small)",variable:"--wp--custom--border-radius--small",variable_value:"10px",group:"border-radius"},{label:"Medium",value:"var(--wp--custom--border-radius--medium)",variable:"--wp--custom--border-radius--medium",variable_value:"15px",group:"border-radius"},{label:"Large",value:"var(--wp--custom--border-radius--large)",variable:"--wp--custom--border-radius--large",variable_value:"20px",group:"border-radius"},{label:"X Large",value:"var(--wp--custom--border-radius--xlarge)",variable:"--wp--custom--border-radius--xlarge",variable_value:"35px",group:"border-radius"},{label:"Circle",value:"var(--wp--custom--border-radius--circle)",variable:"--wp--custom--border-radius--circle",variable_value:"50%",group:"border-radius"},{label:"Ease",value:"var(--wp--custom--transition--ease)",variable:"--wp--custom--transition--ease",variable_value:"all 0.5s ease",group:"transition"},{label:"Ease In Out",value:"var(--wp--custom--transition--ease-in-out)",variable:"--wp--custom--transition--ease-in-out",variable_value:"all 0.3s ease-in-out",group:"transition"},{label:"Creative",value:"var(--wp--custom--transition--creative)",variable:"--wp--custom--transition--creative",variable_value:"all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1)",group:"transition"},{label:"Soft",value:"var(--wp--custom--transition--soft)",variable:"--wp--custom--transition--soft",variable_value:"all 0.5s cubic-bezier(0.215, 0.61, 0.355, 1)",group:"transition"},{label:"Mild",value:"var(--wp--custom--transition--mild)",variable:"--wp--custom--transition--mild",variable_value:"all 0.5s cubic-bezier(0.47, 0, 0.07, 1)",group:"transition"},{label:"Elegant",value:"var(--wp--custom--transition--elegant)",variable:"--wp--custom--transition--elegant",variable_value:"all 0.5s cubic-bezier(0.35, 0.11, 0.22, 1.16)",group:"transition"},{label:"Smooth",value:"var(--wp--custom--transition--smooth)",variable:"--wp--custom--transition--smooth",variable_value:"all 1s cubic-bezier(0.66,0,0.34,1)",group:"transition"},{label:"Accent",value:"var(--wp--custom--transition--accent)",variable:"--wp--custom--transition--accent",variable_value:"all 1s cubic-bezier(0.48,0.04,0.52,0.96)",group:"transition"},{label:"Motion",value:"var(--wp--custom--transition--motion)",variable:"--wp--custom--transition--motion",variable_value:"all 1s cubic-bezier(0.84,0,0.16,1)",group:"transition"},{label:"Light",value:"var(--wp--custom--transition--light)",variable:"--wp--custom--transition--light",variable_value:"all 1s cubic-bezier(0.4,0.8,0.74,1)",group:"transition"},{label:"Root",value:"var(--gs-root-animation-easing)",variable:"--gs-root-animation-easing",variable_value:"cubic-bezier(0.42, 0, 0.58, 1)",group:"animation"},{label:"Dot",value:"var(--wp--custom--size--dot)",variable:"--wp--custom--size--dot",variable_value:"6px",group:"width-height"},{label:"Mini",value:"var(--wp--custom--size--mini)",variable:"--wp--custom--size--mini",variable_value:"11px",group:"width-height"},{label:"X Small",value:"var(--wp--custom--size--xs)",variable:"--wp--custom--size--xs",variable_value:"17px",group:"width-height"},{label:"Small",value:"var(--wp--custom--size--s)",variable:"--wp--custom--size--s",variable_value:"26px",group:"width-height"},{label:"Regular",value:"var(--wp--custom--size--r)",variable:"--wp--custom--size--r",variable_value:"40px",group:"width-height"},{label:"Medium",value:"var(--wp--custom--size--m)",variable:"--wp--custom--size--m",variable_value:"56px",group:"width-height"},{label:"Large",value:"var(--wp--custom--size--l)",variable:"--wp--custom--size--l",variable_value:"74px",group:"width-height"},{label:"X Large",value:"var(--wp--custom--size--xl)",variable:"--wp--custom--size--xl",variable_value:"100px",group:"width-height"},{label:"XX Large",value:"var(--wp--custom--size--xxl)",variable:"--wp--custom--size--xxl",variable_value:"150px",group:"width-height"},{label:"High",value:"var(--wp--custom--size--high)",variable:"--wp--custom--size--high",variable_value:"220px",group:"width-height"},{label:"Grand",value:"var(--wp--custom--size--grand)",variable:"--wp--custom--size--grand",variable_value:"300px",group:"width-height"},{label:"Huge",value:"var(--wp--custom--size--huge)",variable:"--wp--custom--size--huge",variable_value:"385px",group:"width-height"},{label:"Giant",value:"var(--wp--custom--size--giant)",variable:"--wp--custom--size--giant",variable_value:"500px",group:"width-height"},{label:"Colossal",value:"var(--wp--custom--size--colossal)",variable:"--wp--custom--size--colossal",variable_value:"700px",group:"width-height"},{label:"God",value:"var(--wp--custom--size--god)",variable:"--wp--custom--size--god",variable_value:"1000px",group:"width-height"}].reduce(((e,t)=>(e[t.group]||(e[t.group]=[]),e[t.group].push(t),e)),{})).map((([t,a])=>(0,e.createElement)("div",{key:t},(0,e.createElement)("span",{style:{fontSize:12,fontWeight:600,color:"#000",display:"block",marginBottom:5,marginTop:5}},t.charAt(0).toUpperCase()+t.slice(1)),(0,e.createElement)("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:10}},a.map((t=>(0,e.createElement)("span",{key:t.variable,className:"gspb_inspector_btn gspb_inspector_btn--small",style:{margin:0},onClick:()=>{p(t.label),i(t.variable.replace("--","")),l(t.variable_value),u(t.group),S(!1)}},t.label)))))))))),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px"}},(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{variables:t.attributes.variables}}).then((e=>{const{success:t}=JSON.parse(e);t&&(a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Variables are updated in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),x(!0))}))}},(0,e.createElement)("i",{className:"rhicon rhi-inbox"})," ",(0,m.__)("Save","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--danger gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{confirm((0,m.__)("Are you sure that you want to clean all variables?","greenshift-animation-and-page-builder-blocks"))&&wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{variables:[]}}).then((e=>{const{success:r}=JSON.parse(e);r&&(t.setAttributes({variables:[]}),a&&wp.data.dispatch("core/editor").savePost(),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global Variables are cleaned in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))}},(0,e.createElement)("i",{className:"rhicon rhi-trash-alt"})," ",(0,m.__)("Clean All","greenshift-animation-and-page-builder-blocks")))),""==typeof greenShift_params.variables&&!k&&(0,e.createElement)("div",{className:"gspb-alert gspb-warning gspb-no-saved",style:{padding:"20px 0px"}},(0,e.createElement)("div",{style:{fontSize:14,color:"grey"}},(0,m.__)("You need to save variables to database to enable this functionality","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",{className:"stylebook-variables-container-new"},(0,e.createElement)("div",{className:"stylebook-variables-item gspb_row_inspector gspb_row--no-padding-col"},(0,e.createElement)("div",{className:"gspb_row__col--3 gspb_nomargin_components stylebook-variables-item-value stylebook-variables-item-value-pad"},(0,e.createElement)(h.TextControl,{label:(0,m.__)("Variable Label","greenshift-animation-and-page-builder-blocks"),value:c,onChange:e=>{p(e)}})),(0,e.createElement)("div",{className:"gspb_row__col--3  gspb_nomargin_components stylebook-variables-item-value stylebook-variables-item-value-w-prefix stylebook-variables-item-value-pad"},(0,e.createElement)("div",{className:"stylebook-variables-item-value-prefix"},"--"),(0,e.createElement)(h.TextControl,{label:(0,m.__)("Variable Name","greenshift-animation-and-page-builder-blocks"),value:s,onChange:e=>{i(e.replace(" ","-").toLowerCase())}})),(0,e.createElement)("div",{className:"gspb_row__col--4  gspb_nomargin_components stylebook-variables-item-value stylebook-variables-item-value-with-select",style:{position:"relative"}},(0,e.createElement)(h.TextControl,{label:(0,m.__)("Variable Value","greenshift-animation-and-page-builder-blocks"),value:o,onChange:e=>{l(e)}}),(0,e.createElement)("div",{className:"stylebook-variables-item-value-select-group"},(0,e.createElement)(h.SelectControl,{value:d,onChange:e=>{u(e)},options:[{label:(0,m.__)("Custom","greenshift-animation-and-page-builder-blocks"),value:"custom"},{label:(0,m.__)("Size","greenshift-animation-and-page-builder-blocks"),value:"size"},{label:(0,m.__)("Spacing","greenshift-animation-and-page-builder-blocks"),value:"spacing"},{label:(0,m.__)("Color","greenshift-animation-and-page-builder-blocks"),value:"color"},{label:(0,m.__)("Background","greenshift-animation-and-page-builder-blocks"),value:"background"},{label:(0,m.__)("Shadow","greenshift-animation-and-page-builder-blocks"),value:"shadow"},{label:(0,m.__)("Border","greenshift-animation-and-page-builder-blocks"),value:"border"},{label:(0,m.__)("Border Radius","greenshift-animation-and-page-builder-blocks"),value:"border-radius"},{label:(0,m.__)("Extra","greenshift-animation-and-page-builder-blocks"),value:"extra"},{label:(0,m.__)("Layout","greenshift-animation-and-page-builder-blocks"),value:"layout"}]}))),(0,e.createElement)("div",{className:"gspb_row__col--2 gspb_nomargin_components stylebook-variables-item-value",style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},(0,e.createElement)("button",{className:"components-button gspb_class_selector_add_button is-primary",style:{cursor:"pointer",marginTop:"15px"},onClick:()=>{let e=JSON.parse(JSON.stringify(t.attributes.variables||{})),a="var(--"+s+")";-1===C(a,e)?(e.unshift({label:c,value:a,variable:"--"+s,variable_value:o,group:d}),t.setAttributes({variables:e})):wp.data.dispatch("core/notices").createNotice("error",(0,m.__)("Variable name already exists","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})}},(0,e.createElement)("i",{className:"rhicon rhi-plus"})," ",(0,m.__)("Add New","greenshift-animation-and-page-builder-blocks"))))),(0,e.createElement)("div",{className:"stylebook-variables-container"},j&&Object.keys(j).map(((a,r)=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"stylebook-variables-item-category",key:r},a),j[a]&&j[a].map(((a,r)=>(0,e.createElement)("div",{className:"stylebook-variables-item gspb_row_inspector gspb_row--no-padding-col",key:r},(0,e.createElement)("div",{className:"gspb_row__col--2 stylebook-variables-item-label",style:{paddingRight:20}},a.label,(0,e.createElement)("span",{style:{color:"grey",fontSize:12,display:"block",lineHeight:"12px"}},a.group)),(0,e.createElement)("div",{className:"gspb_row__col--4 stylebook-variables-item-option",style:{paddingRight:20}},a.variable),(0,e.createElement)("div",{className:"gspb_row__col--4 gspb_nomargin_components stylebook-variables-item-value",style:{position:"relative"}},(0,e.createElement)(h.TextControl,{value:a.variable_value,onChange:e=>{let r=JSON.parse(JSON.stringify(t.attributes.variables||{}));r[N(a.variable,r)].variable_value=e,t.setAttributes({variables:r})}}),"color"===a.group&&(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle gspb-library-custom-preset-colorcircle-abs"},(0,e.createElement)("div",{style:{background:a.variable_value}}," "))),(0,e.createElement)("div",{className:"gspb_row__col--2 stylebook-variables-item-actions",style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{cursor:"pointer"},onClick:()=>{let e=JSON.parse(JSON.stringify(t.attributes.variables||{})),r=N(a.variable,e);e.splice(r,1),t.setAttributes({variables:e})}},(0,e.createElement)("i",{className:"rhicon rhi-trash-alt"})," ",(0,m.__)("Remove","greenshift-animation-and-page-builder-blocks")))))))))),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Import from css code (Beta)","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",null,(0,e.createElement)(h.TextareaControl,{label:(0,m.__)("Code must be used according to syntax example","greenshift-animation-and-page-builder-blocks"),value:g,rows:20,style:{width:"100%"},onChange:e=>{b(e)}}),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",gap:20,alignItems:"center"}},(0,e.createElement)("button",{className:"components-button gspb_class_selector_add_button is-primary",style:{cursor:"pointer",marginTop:"15px"},onClick:()=>{(async e=>{if(!e)return;let a=r()(t.attributes.variables);a.length>0?e.forEach((e=>{let t=C(e.value,a);t>-1?a[t]=e:a.push(e)})):a=e,v(!0),await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{variables:a}}).then((e=>{const{success:r}=JSON.parse(e);r&&(v(!1),t.setAttributes({variables:a}),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global variables are added in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))})(function(e){const t=[];let a="";return e.split("\n").forEach((e=>{const r=(e=e.trim()).match(/\/\*(.+?)\*\//);if(r)return void(a=r[1].trim());const n=e.match(/(--[\w-]+):\s*([^;]+);/);if(n){const r=n[1],s=n[2].trim();console.log(r,s),a=r.includes("color")?"color":r.includes("size")||r.includes("font-size-")?"size":r.includes("spacing")||r.includes("margin")||r.includes("padding")||r.includes("gap")||r.includes("column-gap")||r.includes("space")?"spacing":r.includes("border-radius")?"border-radius":r.includes("border")?"border":r.includes("shadow")?"shadow":r.includes("transition")?"transition":r.includes("background")||r.includes("bg-")?"background":r.includes("width")||r.includes("height")?"width-height":r.includes("line-height")?"line-height":"extra";const i=e.match(/\/\/(.+)/),o=i?i[1].trim():r.replace(/^--/,"");t.push({group:a,label:o,value:`var(${r})`,variable:r,variable_value:s})}})),t}(g))},disabled:f},(0,e.createElement)("i",{className:"rhicon rhi-plus",style:{marginRight:5}})," ",(0,m.__)("Import","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{style:{cursor:"pointer",fontSize:14,color:"grey"},onClick:()=>{w.current.toggleAttribute("hidden")}},(0,m.__)("Show syntax example","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("pre",{hidden:!0,ref:w,style:{background:"black",color:"white",padding:15,marginTop:15,fontSize:15}},(0,e.createElement)("code",null,":root{\n    /*size*/\n    --size-l: 16px; //Label for variable\n    --size-xl: 24px;\n\n    /*spacing*/\n    --spacing-xm: 23px;\n    --spacing-xl: 55px;\n\n    /*color*/\n    --color-red: red;\n}"))))}function j(t){const a=(0,y.useRef)(null),[n,s]=(0,y.useState)(!1),[i,o]=(0,y.useState)(""),[l,c]=(0,y.useState)(!1),{postSave:p=!0,...d}=t;(0,y.useEffect)((()=>{u()}),[]);const u=async()=>{await wp.apiFetch({path:"greenshift/v1/global_settings",method:"GET"}).then((e=>{const{success:t,settings:a}=e,{custom_css:r}=a;t&&(r&&o(r),c(!1))}))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)"}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Global Styles","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",{className:"stylebook-variables-container-new",style:{border:"none",margin:"25px 0 20px 0",padding:0}},"undefined"!=typeof gspbcodelibs?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("p",null,(0,m.__)("Custom Css","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(gspbcodelibs.components.GspbcodeFluent,{onChange:e=>{o(e)},code:i||"",theme:"github",language:"css",fontSize:13,minLines:5,tabSize:2}),(0,e.createElement)("div",{style:{marginBottom:12}})):(0,e.createElement)(h.TextareaControl,{label:(0,m.__)("Custom CSS code","greenshift-animation-and-page-builder-blocks"),rows:10,value:i,onChange:e=>{o(e)}})),(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",gap:20,alignItems:"center"}},(0,e.createElement)("div",{style:{display:"flex",gap:20,alignItems:"center"}},(0,e.createElement)("button",{className:"components-button gspb_class_selector_add_button is-primary",style:{cursor:"pointer"},onClick:async()=>{if(c(!0),n){const e=new CSSStyleSheet;await e.replace(i);let a="",n="";for(const t of e.cssRules)console.log(t),t.type===CSSRule.STYLE_RULE&&":root"===t.selectorText?a=t.cssText:(t.type,CSSRule.MEDIA_RULE,n+=t.cssText+"\n");let s=function(e){if(!e)return[];const t=[],a=/--([\w-]+)\s*:\s*([^;]+);/g;let r,n="";for(;null!==(r=a.exec(e));){const e=`--${r[1]}`,a=r[2].trim(),s=e.replace("--","").replace(/-/g," ");n=e.includes("color")?"color":e.includes("size")?"size":e.includes("spacing")?"spacing":e.includes("border")?"border":e.includes("shadow")?"shadow":"extra",t.push({group:n,label:s,value:`var(${e})`,variable:e,variable_value:a})}return t}(a);s&&s.length>0&&await(async e=>{if(!e)return;let a=r()(t.attributes.variables);a.length>0?e.forEach((e=>{let t=(r=e.value,a.findIndex((e=>e.value===r)));var r;t>-1?a[t]=e:a.push(e)})):a=e,c(!0),await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{variables:a}}).then((e=>{const{success:r}=JSON.parse(e);r&&(c(!1),t.setAttributes({variables:a}),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global variables are added in database","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))})(s);let o=function(e){const t=new CSSStyleSheet;t.replaceSync(e);const a=new Set;for(const e of t.cssRules)if(e.selectorText){const t=e.selectorText.split(",");for(let e of t){e=e.trim();const t=e.match(/\.[a-zA-Z0-9_-]+/g);if(t)for(let e of t)if(e.includes(".")){const t=e.split(".");t.length>1?t[1].includes("gspbody")||a.add(`.${t[1]}`):e.includes("gspbody")||a.add(e)}else e.includes("gspbody")||a.add(e)}}return Array.from(a)}(n),l={custom_css:n};if(o&&o.length>0){let e=o.map((e=>({label:e.replace(".",""),type:"custom",value:e.replace(".","")})));l.framework_classes=e}else l.framework_classes=[];await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:l}).then((e=>{const{success:t}=JSON.parse(e);t&&(c(!1),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global css is added. Page is reloading","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),wp.data.dispatch("core/editor").savePost(),setTimeout((()=>{let e=window.location.href;e+="&tab=styles",window.location.href=e}),2e3))}))}else await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{custom_css:i}}).then((e=>{const{success:t}=JSON.parse(e);t&&(c(!1),wp.data.dispatch("core/notices").createNotice("success",(0,m.__)("Global css is added. Page is reloading","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),wp.data.dispatch("core/editor").savePost(),setTimeout((()=>{let e=window.location.href;e+="&tab=styles",window.location.href=e}),2e3))}))},disabled:l},(0,e.createElement)("i",{className:"rhicon rhi-plus",style:{marginRight:5}})," ",(0,m.__)("Save","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(h.ToggleControl,{label:(0,m.__)("Auto detect variables and classes","greenshift-animation-and-page-builder-blocks"),checked:n,onChange:e=>{s(e)}})),(0,e.createElement)("div",null,(0,e.createElement)("div",{style:{cursor:"pointer",fontSize:14,color:"grey"},onClick:()=>{a.current.toggleAttribute("hidden")}},(0,m.__)("Show explanation","greenshift-animation-and-page-builder-blocks")))),(0,e.createElement)("div",{hidden:!0,ref:a,style:{background:"black",color:"white",padding:15,marginTop:15,fontSize:15}},(0,m.__)("You can add custom CSS code here. You can also automatically register all detected classes and variables. Make sure that you put variables in :root{}. If you want to make class working only on frontend, add .gspb-bodyfront before class. If you want to delete styles, save empty text with enabled autodetection. You can delete imported variables by visiting Variable Tab","greenshift-animation-and-page-builder-blocks")),greenShift_params.framework_classes&&greenShift_params.framework_classes.length>0&&(0,e.createElement)("div",{className:"",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0}},(0,e.createElement)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgb(143 147 151 / 16%)",marginBottom:20}},(0,e.createElement)("div",{className:"gspb_style_global_heading"},(0,m.__)("Detected Custom Classes","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",{className:"gspb-library-custom-variable-cards"},greenShift_params.framework_classes&&Object.keys(greenShift_params.framework_classes).map(((t,a)=>(0,e.createElement)("div",null,greenShift_params.framework_classes[t].value))))))}const{__}=wp.i18n,{useState:T,useEffect:A,useRef:O,useMemo:z}=wp.element,{PanelBody:P,PanelRow:B,TextControl:R,Button:I,SelectControl:W,ToggleControl:$,TextareaControl:F,SandBox:G}=wp.components,{MediaUpload:M,MediaUploadCheck:L}=wp.blockEditor,{rawHandler:D}=wp.blocks,{BlpgeColorPicker:J,ModalComponent:H}=gspblib.components,{gspb_getDeviceStateIndex:V,gspb_get_editor_document:U}=gspblib.utilities,Q=e=>{try{return JSON.parse(e),e}catch(t){let a=e.replace(/(?<!\\)"/g,'\\"').replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^\\])"/g,'$1\\"').replace(/\\"/g,'"');try{return JSON.parse(a),a}catch(t){return console.error("Failed to sanitize JSON string:",t),e}}},q=t=>{let a={};z((()=>{let e=greenShift_params.colours||b.colors.default,t=greenShift_params.gradients||b.gradients.default,r=greenShift_params.variables||b.variables.default,n=greenShift_params.elements||b.elements.default;a.colors=e,a.gradients=t,a.variables=r,a.elements=n}),[]);const[n,s]=T(a),[i,o]=T("new"),[l,c]=T([]),[p,d]=T(!1),[u,m]=T(!1),[h,f]=T(!1),[y,v]=T(!1),[_,w]=T(!1),[x,E]=T(""),[S,q]=T(""),[Y,X]=T(""),[K,Z]=T(!1),[ee,te]=T([]),[ae,re]=T(!1),[ne,se]=T(""),[ie,oe]=T(""),[le,ce]=T(""),[pe,de]=T({}),[ue,ge]=T(""),[be,me]=T("low"),[he,fe]=T(!1),[ye,ve]=T([]),[_e,we]=T(""),ke=O(!0),xe=O(null),Ee=e=>e.replace(/```(html|javascript|json)?\n?/g,"").replace(/```$/,""),Se=e=>{s({...n,...e})},[Ce,Ne]=T({mousefollow:!1,mousecolor:"#2184f9",smoothscroll:!1,pagetransitioneffect:"",pagetransitionsafe:"",pagetransition:!1}),je=V(),Te=(e,t="gspb-global-styles",a=document)=>{if(null===a.getElementById(t)){let r=a.createElement("style");r.id=t,r.styleSheet?r.styleSheet.cssText=e:r.innerHTML=e,a.getElementsByTagName("head")[0].appendChild(r)}else a.getElementById(t).innerHTML=e;null!=a.querySelector('[name="editor-canvas"]')&&(e=e.replace(/body.gspbody/g,"body"),Te(e,t,a.querySelector('[name="editor-canvas"]').contentDocument))};A((()=>{ke.current?ke.current=!1:Object.keys(n.elements).map((e=>{if(n.elements?.[e]?.admincss){let t=n.elements[e]?.admincss;Te(t,"greenshift-global-element-id-"+e+"-inline-css")}else Te("","greenshift-global-element-id-"+e+"-inline-css")}))}),[n.elements]),A((()=>{if(ke.current)ke.current=!1;else{let e="body{";n.colors&&Object.keys(n.colors).map((t=>{e+=`--gs-color${t}: ${n.colors[t]};`})),e+="}",Te(e,"greenshift-global-colors")}}),[n.colors]),A((()=>{if(ke.current)ke.current=!1;else{let e="body{";n.gradients&&Object.keys(n.gradients).map((t=>{e+=`--gs-gradient${t}: ${n.gradients[t]};`})),e+="}",Te(e,"greenshift-global-gradients")}}),[n.gradients]),A((()=>{if(ke.current)ke.current=!1;else{let e=":root{";n.variables&&n.variables.map((t=>{e+=`${t.variable}: ${t.variable_value};`})),e+="}",Te(e,"greenshift-global-variables")}}),[n.variables]),A((()=>{n.custom_css&&Te(n.custom_css,"greenshift-custom-styles")}),[n.custom_css]),A((()=>{Ae()}),[]),A((()=>{"chart_line"===S||"chart_bar"===S||"chart_pie"===S||"chart_area"===S||"chart_radar"===S?"chart_line"===S?E(__("Generate a line chart data with the following data: ","greenshift-animation-and-page-builder-blocks")):"chart_bar"===S?E(__("Generate a bar chart data with the following data: ","greenshift-animation-and-page-builder-blocks")):"chart_pie"===S?E(__("Generate a pie chart data with the following data: ","greenshift-animation-and-page-builder-blocks")):"chart_area"===S?E(__("Generate a area chart data with the following data: ","greenshift-animation-and-page-builder-blocks")):"chart_radar"===S&&E(__("Generate a radar chart data with the following data: ","greenshift-animation-and-page-builder-blocks")):"table"===S?E(__("Generate a table with the following data: ","greenshift-animation-and-page-builder-blocks")):"content"===S?E(__("Build a content blocks with the following data: ","greenshift-animation-and-page-builder-blocks")):"design"===S?E(__("Build a design for the following data: ","greenshift-animation-and-page-builder-blocks")):"image"==S?E(__("Generate an image with the following prompt: ","greenshift-animation-and-page-builder-blocks")):"contentfix"==S?E(""):"blocks"===S&&E("Build blocks for the following data: "),te([]),ve([]),we("")}),[S]);const Ae=async()=>{await wp.apiFetch({path:"greenshift/v1/global_settings",method:"GET"}).then((e=>{const{success:t,settings:a}=e,{presets:r,colours:n,gradients:i,variables:o,elements:l,sitesettings:p,custom_css:u}=a;if(t){r&&c(r);let e={},t=n||b.colors.default,a=i||b.gradients.default,g=o||b.variables.default,m=l||b.elements.default,h=u||"";e.colors=t,e.gradients=a,e.variables=g,e.elements=m,e.custom_css=h,s(e),Ne(p),d(!1)}}))},Oe=async(e="add",t="")=>{let a=[];if("add"==e)if(l.length>0){let e=0;const t=r()(l);"new"==i?(e=l.length,t.push({colours:n.colors,gradients:n.gradients,elements:n.elements,variables:n.variables,name:__("Snapshot","greenshift-animation-and-page-builder-blocks")+" #"+e})):(e=i,t[e].elements=n.elements,t[e].gradients=n.gradients,t[e].colours=n.colors,t[e].variables=n.variables,t[e].name=__("Snapshot","greenshift-animation-and-page-builder-blocks")+" #"+e),a=t}else{const e=[];e.push({elements:n.elements,gradients:n.gradients,colours:n.colors,variables:n.variables,name:__("Snapshot","greenshift-animation-and-page-builder-blocks")+" #0"}),a=e}else if("remove"==e&&t){const e=r()(l);e.splice(t,1),a=e}d(!0),await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{presets:a}}).then((e=>{const{success:t}=JSON.parse(e);t&&(c(a),d(!1),wp.data.dispatch("core/notices").createNotice("success",__("Global Snapshots are updated","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))},ze=[{label:__("New snapshot"),value:"new"}];if(l.length>0)for(let e=0;e<l.length;e++)ze.push({label:l[e].name,value:e});const Pe=(e="blocks")=>"convert"==e?'You are a helpful assistant that converts HTML or JSON into Greenshift blocks using a provided database. Follow these rules strictly:\n                1.\tIf the input is an HTML table, convert it to Table blocks.\n                2.\tIf the input is general HTML code, convert it to Greenshift blocks, excluding <body>, <head>, or any document-level tags.\n                3.\tIf the input is a JSON:\n                \tWith line_series, convert to a Line Chart block.\n                \tWith bar_series, convert to a Bar Chart block.\n                \tWith pie_series, convert to a Pie Chart block.\n                \tWith area_series, convert to an Area Chart block.\n                4.\tWhen converting JSON to blocks, always validate chart data before generating blocks.\n                5.\tOutput only the final code for Greenshift blocks. No explanations, comments, or formatting hints.\n                6.\tNever return JSON format. Always return Greenshift block code only.\n                7.\tIf the output includes repeated structures (rows, elements, etc.), always return the complete code. Do not summarize, skip, or truncate with phrases like "Continue if needed" or similar. Always provide the entire result in one response.\n\n            Be strict, consistent, and exhaustive. Always return full, clean Greenshift block code':"chart_line"===S||"chart_bar"===S||"chart_pie"===S||"chart_area"===S||"chart_radar"===S?"You are a helpful assistant that can help me build json data for apexchart.js using external search for analysis.":"table"==S?'You are a helpful assistant that can help me build html code for table using external search for analysis.        \n            Return me only html code of table. No text, no explanation, no comments before or after the code. Just the code. If answer has repeatable rows or other elements, always provide full code, without leaving out any details and never respond with "Continue if needed", always provide full code.':"content"==S?"You are a helpful assistant that can help me build gutenberg blocks for content using external search for analysis.":'You are a helpful assistant that can help me build code of Greenshift blocks. At first, you need to build html code and then convert it to Greenshift blocks. Return me only code for blocks. No text, no explanation, no comments. Just the code. If answer has repeatable rows or other elements, always provide full code, without leaving out any details and never respond with "Continue if needed", always provide full code.',Be=async(e="blocks")=>{let t="",a=x;if("convert"==e||"blocks"==S||""==S){try{const e=await fetch(greenShift_params?.pluginURL+"/instruction_markdown.md");t=await e.text()}catch(e){console.error("Error loading instruction file:",e)}"convert"==e&&(a="Convert this code to Greenshift blocks: "+le),t&&(a+=`Use this instruction to convert the code to Greenshift blocks: ${t}`)}return"chart_line"===S||"chart_bar"===S||"chart_pie"===S||"chart_area"===S||"chart_radar"===S?a+='JSON must be in next format:\n                                \n            For line chart:\n\n            {\n                "line_series": [\n                    {\n                    "name": "Series first",\n                    "data": [\n                        45,\n                        52,\n                        38,\n                        45,\n                        19,\n                        23,\n                        2\n                    ]\n                    }\n                ],\n            }\n\n            For bar chart:\n\n            {\n                "bar_series": [\n                    {\n                        "name": "Series first",\n                        "data": [\n                            45,\n                            52,\n                            38,\n                            45,\n                            19,\n                            23,\n                            2\n                        ]\n                    }\n                ],\n            }\n\n            For area chart:\n\n            {\n                "area_series": [\n                    {\n                        "name": "Series first",\n                        "data": [\n                            45,\n                            52,\n                            38,\n                            45,\n                            19,\n                            23, \n                            2\n                        ]\n                    }\n                ],\n            }\n\n            For radar chart:\n\n            {\n                "radar_series": [\n                    {\n                        "name": "Series first",\n                        "data": [\n                            45,\n                            52,\n                            38,\n                            45,\n                            19,\n                            23,\n                            2\n                        ]\n                    }\n                ],\n            }\n\n            For pie chart:\n\n            {\n                "pie_series": [44, 55, 41, 19, 9, 10]\n            }\n\n            If you need labels, add them in next format for all charts except pie chart:\n\n            xaxis: {\n                categories: [\'Label 1\', \'Label 2\', \'Label 3\', \'Label 4\', \'Label 5\', \'Label 6\']\n            } \n\n            or in parameter labels if it\'s for pie chart:\n\n            labels: [\'Label 1\', \'Label 2\', \'Label 3\', \'Label 4\', \'Label 5\', \'Label 6\'] \n\n            Return only json code. No text, no explanation, no comments before or after the code. Do not include citations and links. Return only json code.':"table"==S?a+='Return me only html code of table. No text, no explanation, no comments before or after the code. Just the code. If answer has repeatable rows or other elements, always provide full code, without leaving out any details and never respond with "Continue if needed", always provide full code.':"content"==S&&(a+='Return me only content divided by logical semantic sections in the format of gutenberg wordpress blocks. Example:\n\n            \x3c!-- wp:paragraph --\x3e\n            <p>Example text</p>\n            \x3c!-- /wp:paragraph --\x3e \n\n            \x3c!-- wp:heading {"level":2} --\x3e\n            <h2>Example heading</h2>\n            \x3c!-- /wp:heading --\x3e\n\n            \x3c!-- wp:list --\x3e\n            <ul>\n                <li>Example list item</li>\n                <li>Example list item</li>\n            </ul>\n            \x3c!-- /wp:list --\x3e\n\n            \x3c!-- wp:table --\x3e\n            <table>\n                <tr>\n                    <td>Example table cell</td>\n                    <td>Example table cell</td>\n                </tr>\n            </table>\n            \x3c!-- /wp:table --\x3e\n\n            If response has a link, do not return it as markdown, return it as html link and part of blocks. Example of text with link:\n\n            \x3c!-- wp:paragraph --\x3e\n            <p><a href="#">Example of Link</a></p>\n            \x3c!-- /wp:paragraph --\x3e\n\n            Do not return H1 heading, return only H2, H3, H4. Do not return citations. Do not return markdown text.\n            \n            Do not return any introductory text or explanation, do not add comments before or after the code. Just the code of blocks. If answer has repeatable rows or other elements, always provide full code, without leaving out any details and never respond with "Continue if needed", always provide full code.'),a},Re=async(e="blocks")=>{let t=greenShift_params?.apis?.aihelpermodel||"gpt-4.1",a="";re(!0),ce(""),ve([]),we("");let r=ee;if(t.startsWith("gemini")){if(a=greenShift_params?.apis?.geminiapi,!a)return void wp.data.dispatch("core/notices").createNotice("error",__("Error: No Gemini API key found. Please add in settings","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"});"convert"==e&&(r=[]),r.push({role:"user",parts:ne&&"convert"!=e?[{text:await Be(e)},{type:"input_image",image_url:ne}]:[{text:await Be(e)}]});try{we(__("Tool usage: Starting generation...","greenshift-animation-and-page-builder-blocks"));let n={contents:r,system_instruction:{parts:[{text:Pe(e)}]},generationConfig:{temperature:.1}};"convert"!=e&&"blocks"!=S&&(n.tools=[{google_search:{}}]);const s=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${t}:streamGenerateContent?alt=sse&key=${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);we(__("Tool usage: Streaming response...","greenshift-animation-and-page-builder-blocks"));const i=s.body.getReader(),o=new TextDecoder;let l="";for(;;){const{value:e,done:t}=await i.read();if(t)break;const a=o.decode(e).split("\n").filter((e=>""!==e.trim()));for(const e of a)if(e.startsWith("data: "))try{let t;try{const a=e.slice(5);if(!a.trim()){console.warn("Empty JSON data received");continue}{const e=Q(a);t=JSON.parse(e)}}catch(t){console.error("Error parsing event data:",t,"Raw data:",e.slice(5)),console.log("Problematic JSON string:",e.slice(5));continue}if(t.candidates&&t.candidates.length>0){const e=t.candidates[0];if(e.content&&e.content.parts&&e.content.parts.length>0){const t=e.content.parts[0].text||"";t&&(l+=t,ce(l))}if(e.groundingMetadata?.groundingChunks){const t=e.groundingMetadata.groundingChunks.filter((e=>e.web&&e.web.title)).map((e=>e.web.title));t&&t.length&&ve(t)}e.safetyRatings&&we(__("Tool usage: Safety check completed.","greenshift-animation-and-page-builder-blocks"))}t.candidates&&t.candidates.length>0&&t.candidates[0].finishReason&&we(__("Tool usage: Generation completed.","greenshift-animation-and-page-builder-blocks"))}catch(e){console.error("Error parsing streaming data:",e)}}l&&("convert"==e?(Ie(l),Z(!0)):(te((e=>[...e,{role:"model",parts:[{text:l}]}])),X(l)))}catch(e){console.error("Error fetching blocks:",e),ce("Error generating blocks. Please try again.")}finally{re(!1)}}else if(t.startsWith("gpt")){if(a=greenShift_params?.apis?.openaiapi,!a)return void wp.data.dispatch("core/notices").createNotice("error",__("Error: No OPEN AI API key found. Please add in settings","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"});"convert"==e&&(r=[]),0===r.length&&(r=[{role:"system",content:[{type:"input_text",text:Pe(e)}]}]),r.push({role:"user",content:ne&&"convert"!=e?[{type:"input_text",text:await Be(e)},{type:"input_image",image_url:ne}]:[{type:"input_text",text:await Be(e)}]});try{const n={model:t,input:r,stream:!0};"convert"!=e&&"blocks"!=S&&(n.tools=[{type:"web_search_preview"}]);const s=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(n)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const i=s.body.getReader(),o=new TextDecoder;let l="",c="",p="";for(;;){const{value:e,done:t}=await i.read();if(t)break;const a=o.decode(e).split("\n\n").filter(Boolean);for(const e of a){const t=e.split("\n"),a=t[0].replace("event: ",""),r=t[1];if(r?.startsWith("data: "))try{let e;try{const t=r.slice(5);if(!t.trim()){console.warn("Empty JSON data received");continue}{const a=Q(t);e=JSON.parse(a)}}catch(e){console.error("Error parsing event data:",e,"Raw data:",r.slice(5)),console.log("Problematic JSON string:",r.slice(5));continue}if("response.file_search_call.in_progress"===a?we(__("Tool usage: Data search in Progress...","greenshift-animation-and-page-builder-blocks")):"response.file_search_call.searching"===a?we(__("Tool usage: Data searching...","greenshift-animation-and-page-builder-blocks")):"response.file_search_call.completed"===a?we(__("Tool usage: Data search completed.","greenshift-animation-and-page-builder-blocks")):"response.web_search_call.in_progress"===a?we(__("Tool usage: Web search in Progress...","greenshift-animation-and-page-builder-blocks")):"response.web_search_call.searching"===a?we(__("Tool usage: Web searching...","greenshift-animation-and-page-builder-blocks")):"response.web_search_call.completed"===a?we(__("Tool usage: Web search completed.","greenshift-animation-and-page-builder-blocks")):"response.failed"===a&&we(__("Tool usage: Failed to process request.","greenshift-animation-and-page-builder-blocks")+" "+e?.error?.message),"response.output_item.done"===a&&"file_search_call"===e.item?.type){const t=e.item.queries;t&&t.length&&ve(t)}"response.output_item.added"===a&&"message"===e.item?.type&&(c=e.item.id),"response.output_text.delta"===a&&e.item_id===c&&(l+=e.delta,ce(l)),"response.output_text.complete"===a&&e.item_id===c&&(p=e.text),"response.completed"===a&&p&&(ce(p),l=p)}catch(e){console.error("Error parsing event data:",e)}}}l&&("convert"==e?(Ie(l),Z(!0)):(te((e=>[...e,{role:"assistant",content:[{type:"output_text",text:l}]}])),X(l)))}catch(e){console.error("Error fetching blocks:",e),ce("Error generating blocks. Please try again.")}finally{re(!1)}}},Ie=(e="")=>{try{const t=Ee(e||le),a=D({HTML:t}),[r,n]=(e=>{const t=[...e];let a=!1;const r=e=>{e.forEach((e=>{if((e=>{const{name:t,isValid:a,validationIssues:r}=e;return!!t&&!(a||!r.length)})(e)){a=!0;const t=(({name:e,attributes:t,innerBlocks:a})=>wp.blocks.createBlock(e,t,a))(e);for(const a in t)e[a]=t[a]}e.innerBlocks.length&&r(e.innerBlocks)}))};return r(t),[t,a]})(a),{getSelectedBlockClientId:s,getBlockParents:i,getBlockIndex:o,getBlockRootClientId:l}=wp.data.select("core/block-editor"),c=s();if(c){const e=i(c).pop()||l(c),t=o(c);wp.data.dispatch("core/block-editor").insertBlocks(r,t+1,e)}else wp.data.dispatch("core/block-editor").insertBlocks(r);const{getBlocks:p}=wp.data.select("core/block-editor"),{updateBlockAttributes:d}=wp.data.dispatch("core/block-editor"),u=p();setTimeout((()=>{const e=u[u.length-1];if(e&&"greenshift-blocks/element"==e.name&&e.attributes.chartData){const t=e.attributes.chartData||{};d(e.clientId,{chartData:{...t,init:!t?.init}}),wp.data.dispatch("core/block-editor").selectBlock(e.clientId)}}),1e3),wp.data.dispatch("core/notices").createNotice("success",__("Blocks inserted successfully","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),we(""),ve([])}catch(e){console.error("Error applying blocks:",e),wp.data.dispatch("core/notices").createNotice("error",__("Error applying blocks. Please try again.","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})}};return A((()=>{xe.current&&(xe.current.scrollTop=xe.current.scrollHeight)}),[le]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(P,{title:__("AI Helper Tools","greenshift-animation-and-page-builder-blocks"),initialOpen:!0},(0,e.createElement)("div",{className:"gspb_inspector"},(0,e.createElement)(W,{value:S,options:[{label:__("Select AI Helper action","greenshift-animation-and-page-builder-blocks"),value:""},{label:__("Sections","greenshift-animation-and-page-builder-blocks"),value:"blocksbuild",disabled:!0},{label:__("Build Blocks","greenshift-animation-and-page-builder-blocks"),value:"blocks"},{label:__("Build Design Sections","greenshift-animation-and-page-builder-blocks"),value:"design"},{label:__("Chart","greenshift-animation-and-page-builder-blocks"),value:"charts",disabled:!0},{label:__("Generate Line Chart","greenshift-animation-and-page-builder-blocks"),value:"chart_line"},{label:__("Generate Bar Chart","greenshift-animation-and-page-builder-blocks"),value:"chart_bar"},{label:__("Generate Pie Chart","greenshift-animation-and-page-builder-blocks"),value:"chart_pie"},{label:__("Generate Area Chart","greenshift-animation-and-page-builder-blocks"),value:"chart_area"},{label:__("Generate Radar Chart","greenshift-animation-and-page-builder-blocks"),value:"chart_radar"},{label:__("Content","greenshift-animation-and-page-builder-blocks"),value:"contentbuild",disabled:!0},{label:__("Generate Table","greenshift-animation-and-page-builder-blocks"),value:"table"},{label:__("Generate Content","greenshift-animation-and-page-builder-blocks"),value:"content"},{label:__("Generate Image","greenshift-animation-and-page-builder-blocks"),value:"image"},{label:__("Editing","greenshift-animation-and-page-builder-blocks"),value:"contentedit",disabled:!0},{label:__("Fix Grammatic errors in Selected Blocks","greenshift-animation-and-page-builder-blocks"),value:"contentfix"}],onChange:e=>q(e)}),"contentfix"==S?(0,e.createElement)("div",{style:{fontSize:"12px",marginTop:"5px",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"}},__("Select blocks where to fix grammatic errors","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)(F,{value:x,placeholder:__("Enter your prompt","greenshift-animation-and-page-builder-blocks"),rows:3,help:__("Enter your prompt to build blocks.","greenshift-animation-and-page-builder-blocks"),onChange:e=>E(e)}),("chart_line"===S||"chart_bar"===S||"chart_pie"===S||"chart_area"===S||"chart_radar"===S||"table"===S||"content"===S)&&(0,e.createElement)("div",{style:{fontSize:"12px",color:"#2271b1",marginTop:"5px",marginBottom:"10px",display:"flex",alignItems:"center",gap:"5px"}},(0,e.createElement)("span",{style:{display:"inline-block",width:"8px",height:"8px",minWidth:"8px",minHeight:"8px",borderRadius:"50%",background:"#00a32a"}}),__("Global Search tool enabled","greenshift-animation-and-page-builder-blocks")),"image"==S&&"gpt-image-1"==greenShift_params?.apis?.aiimagemodel&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(W,{value:ue,options:[{label:__("1024x1024","greenshift-animation-and-page-builder-blocks"),value:"1024x1024"},{label:__("1024x1536","greenshift-animation-and-page-builder-blocks"),value:"1024x1536"},{label:__("1536x1024","greenshift-animation-and-page-builder-blocks"),value:"1536x1024"}],onChange:e=>ge(e)}),(0,e.createElement)(W,{value:be,options:[{label:__("Low Quality","greenshift-animation-and-page-builder-blocks"),value:"low"},{label:__("Medium Quality","greenshift-animation-and-page-builder-blocks"),value:"medium"},{label:__("High Quality","greenshift-animation-and-page-builder-blocks"),value:"high"}],onChange:e=>me(e)}),(0,e.createElement)($,{label:__("Transparent Background","greenshift-animation-and-page-builder-blocks"),checked:he,onChange:e=>fe(e),help:__("Generate image with transparent background","greenshift-animation-and-page-builder-blocks")})),(0,e.createElement)("div",{className:"gspb-inspector-flex-row gs-flex-space-between gs-gutter-5 gs-child-width-10/2 gspb_nomargin_components"},(0,e.createElement)("button",{isBusy:ae,onClick:()=>{"image"===S?(async()=>{let e=greenShift_params?.apis?.aiimagemodel||"gemini-2.0-flash",t="";if("gpt-image-1"==e?t=greenShift_params?.apis?.openaiapi:"gemini-2.0-flash"==e&&(t=greenShift_params?.apis?.geminiapi),t){re(!0),de({}),ce(""),ve([]),we("");try{let a="",r={},n={},s="";if("gpt-image-1"==e){if(a="https://api.openai.com/v1/images/generations",r["Content-Type"]="application/json",r.Authorization="Bearer "+t,n.prompt=x,n.quality=be,n.n=1,n.size=ue||"1024x1024",n.model="gpt-image-1",he&&(n.background="transparent"),n.output_format="webp",ne){a="https://api.openai.com/v1/images/edits",delete r["Content-Type"];const e=new FormData,t=ne.split(",")[1],s=atob(t),i=new ArrayBuffer(s.length),o=new Uint8Array(i);for(let e=0;e<s.length;e++)o[e]=s.charCodeAt(e);const l=new Blob([i],{type:"image/png"});e.append("image",l,"image.png"),e.append("prompt",x),e.append("n",1),e.append("size",ue||"1024x1024"),e.append("quality",be),e.append("output_format","webp"),e.append("model","gpt-image-1"),he&&e.append("background","transparent"),n=e}}else"gemini-2.0-flash"==e&&(a="https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp-image-generation:generateContent?key="+t,r["Content-Type"]="application/json",n.contents=[{parts:[{text:x}]}],n.generationConfig={responseModalities:["Text","Image"]});we(__("Tool usage: Image generation...","greenshift-animation-and-page-builder-blocks"));const i=await fetch(a,{method:"POST",headers:r,body:ne&&"gpt-image-1"==e?n:JSON.stringify(n)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const o=await i.json();if("gpt-image-1"==e?s=o.data[0].b64_json:"gemini-2.0-flash"==e&&(s=o?.candidates[0]?.content?.parts[0]?.inlineData?.data),s){we(__("Tool usage: Uploading to media library...","greenshift-animation-and-page-builder-blocks"));const e=x?x.slice(0,30).replace(/[^a-zA-Z0-9]/g,"_"):"ai_generated_image",t=new FormData,a=atob(s),r=new ArrayBuffer(a.length),n=new Uint8Array(r);for(let e=0;e<a.length;e++)n[e]=a.charCodeAt(e);const i=new Blob([r],{type:"image/webp"});t.append("file",i,`${e}.webp`),t.append("alt",x),console.log(t),wp.apiFetch({path:"/wp/v2/media",method:"POST",body:t}).then((e=>{e&&e.id&&(de(e),we(__("Tool usage: Image was uploaded to media library.","greenshift-animation-and-page-builder-blocks")))})).catch((e=>{console.error("Error uploading image:",e),wp.data.dispatch("core/notices").createNotice("error",__("Error uploading image to media library","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})}))}}catch(e){console.error("Error fetching image:",e),de({})}finally{re(!1)}}else wp.data.dispatch("core/notices").createNotice("error",__("Error: No API key found. Please add in plugin settings","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})})():"design"===S?(async()=>{let e=greenShift_params?.apis?.aidesignmodel||"claude-sonnet-4-20250514",t="";re(!0),ce(""),ve([]),we(""),X(""),console.log(e);try{let a="",r={},n={},s=ee;if(e.startsWith("gemini")){if(t=greenShift_params?.apis?.geminiapi,!t)return wp.data.dispatch("core/notices").createNotice("error",__("Error: No Gemini API key found. Please add in settings","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),void re(!1);s=[{role:"user",parts:ne?[{text:x},{type:"input_image",image_url:ne}]:[{text:x}]}],we(__("Tool usage: Starting generation...","greenshift-animation-and-page-builder-blocks"));let n={contents:s,system_instruction:{parts:[{text:'You are a helpful assistant that can help me build nice looking designs in html and css. Return me only html and css code. Do not include <body>, <head>, or any document-level tags. Do not include explanation, comments before or after the code. Do not use javascript, use only html and css. Return only code. If answer has repeatable rows or other elements, always provide full code, without leaving out any details and never respond with "Continue if needed", always provide full code. Put css in style tag and add it to the beginning of the code.'}]},generationConfig:{temperature:.1}};a=`https://generativelanguage.googleapis.com/v1beta/models/${e}:streamGenerateContent?alt=sse&key=${t}`,r["Content-Type"]="application/json";const i=await fetch(a,{method:"POST",headers:r,body:JSON.stringify(n)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);we(__("Tool usage: Streaming response...","greenshift-animation-and-page-builder-blocks"));const o=i.body.getReader(),l=new TextDecoder;let c="";for(;;){const{value:e,done:t}=await o.read();if(t)break;const a=l.decode(e).split("\n").filter((e=>""!==e.trim()));for(const e of a)if(e.startsWith("data: "))try{let t;try{const a=e.slice(5);if(!a.trim()){console.warn("Empty JSON data received");continue}{const e=Q(a);t=JSON.parse(e)}}catch(t){console.error("Error parsing event data:",t,"Raw data:",e.slice(5)),console.log("Problematic JSON string:",e.slice(5));continue}if(t.candidates&&t.candidates.length>0){const e=t.candidates[0];if(e.content&&e.content.parts&&e.content.parts.length>0){const t=e.content.parts[0].text||"";t&&(c+=t,ce(c))}if(e.groundingMetadata?.groundingChunks){const t=e.groundingMetadata.groundingChunks.filter((e=>e.web&&e.web.title)).map((e=>e.web.title));t&&t.length&&ve(t)}e.safetyRatings&&we(__("Tool usage: Safety check completed.","greenshift-animation-and-page-builder-blocks"))}t.candidates&&t.candidates.length>0&&t.candidates[0].finishReason&&we(__("Tool usage: Generation completed.","greenshift-animation-and-page-builder-blocks"))}catch(e){console.error("Error parsing streaming data:",e)}}c&&(te((e=>[...e,{role:"assistant",content:[{type:"text",text:c}]}])),X(c))}else if(e.startsWith("claude")){if(t=greenShift_params?.apis?.claudeapi,!t)return wp.data.dispatch("core/notices").createNotice("error",__("Error: No API key found. Please add in settings","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),void re(!1);a="https://api.anthropic.com/v1/messages",r["Content-Type"]="application/json",r["x-api-key"]=t,r["anthropic-version"]="2023-06-01",r["anthropic-dangerous-direct-browser-access"]="true",s.push({role:"user",content:ne?[{type:"text",text:x},{type:"image",source:{type:"base64",data:ne}}]:[{type:"text",text:x}]}),n.messages=s,n.system='You are a helpful assistant that can help me build nice looking designs in html and css. Return me only html and css code. Do not include <body>, <head>, or any document-level tags. Do not include explanation, comments before or after the code. Do not use javascript, use only html and css.Return only code. If answer has repeatable rows or other elements, always provide full code, without leaving out any details and never respond with "Continue if needed", always provide full code.',n.stream=!0,n.model=e,n.max_tokens=4e4;const i=await fetch(a,{method:"POST",headers:r,body:JSON.stringify(n)});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const o=i.body.getReader(),l=new TextDecoder;let c="";for(;;){const{value:e,done:t}=await o.read();if(t)break;const a=l.decode(e).split("\n\n").filter(Boolean);for(const e of a){const t=e.split("\n"),a=t[0].replace("event: ",""),r=t[1];if(r?.startsWith("data: "))try{let e;try{const t=r.slice(5);if(!t.trim()){console.warn("Empty JSON data received");continue}{const a=Q(t);e=JSON.parse(a)}}catch(e){console.error("Error parsing event data:",e,"Raw data:",r.slice(5)),console.log("Problematic JSON string:",r.slice(5));continue}"message_start"===a&&we(__("Tool usage: Design generation in Progress...","greenshift-animation-and-page-builder-blocks")),"content_block_delta"===a&&e.delta?.text&&(c+=e.delta.text,ce(c)),"message_stop"===a&&we(__("Tool usage: Design generation completed.","greenshift-animation-and-page-builder-blocks"))}catch(e){console.error("Error parsing event data:",e)}}}c&&(te((e=>[...e,{role:"assistant",content:[{type:"text",text:c}]}])),X(c))}}catch(e){console.error("Error fetching design:",e),ce("Error generating design. Please try again.")}finally{re(!1)}})():"contentfix"===S?(async()=>{let e=greenShift_params?.apis?.aihelpermodel||"gpt-4o",t="";if(t=greenShift_params?.apis?.openaiapi,!t)return void wp.data.dispatch("core/notices").createNotice("error",__("Error: No OPEN AI API key found. Please add in settings","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"});re(!0),ce(""),ve([]),we("");const a=wp.data.select("core/block-editor").getSelectedBlockClientIds();if(!a||0===a.length)return wp.data.dispatch("core/notices").createNotice("error",__("Please select blocks to fix grammatical errors","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),void re(!1);const r=e=>{let t=[];return e.forEach((e=>{("core/heading"===e.name||"core/paragraph"===e.name||"greenshift-blocks/element"===e.name&&e.attributes.textContent)&&t.push({clientId:e.clientId,name:e.name,content:"greenshift-blocks/element"===e.name?e.attributes.textContent:e.attributes.content}),e.innerBlocks&&e.innerBlocks.length>0&&(t=t.concat(r(e.innerBlocks)))})),t},n=a.map((e=>wp.data.select("core/block-editor").getBlock(e))),s=r(n);if(0===s.length)return wp.data.dispatch("core/notices").createNotice("error",__("No content blocks found in selection","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}),void re(!1);we(__("Found "+s.length+" blocks with content","greenshift-animation-and-page-builder-blocks"));for(let a=0;a<s.length;a++){const r=s[a];we(__("Fixing grammatical errors in block "+(a+1)+" of "+s.length,"greenshift-animation-and-page-builder-blocks"));let n=[{role:"system",content:[{type:"input_text",text:"You are a helpful assistant that can help me fix grammatical errors in content. Return me only fixed content without any comments or explanations."}]},{role:"user",content:[{type:"input_text",text:r.content}]}];try{const a=await fetch("https://api.openai.com/v1/responses",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({model:e,input:n,stream:!0})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const s=a.body.getReader(),i=new TextDecoder;let o="";for(;;){const{value:e,done:t}=await s.read();if(t)break;const a=i.decode(e).split("\n\n").filter(Boolean);for(const e of a){const t=e.split("\n"),a=t[0].replace("event: ",""),n=t[1];if(n?.startsWith("data: "))try{let e;try{const t=n.slice(5);if(!t.trim()){console.warn("Empty JSON data received");continue}{const a=Q(t);e=JSON.parse(a)}}catch(e){console.error("Error parsing event data:",e,"Raw data:",n.slice(5)),console.log("Problematic JSON string:",n.slice(5));continue}"response.output_text.delta"===a&&(o+=e.delta,"greenshift-blocks/element"===r.name?wp.data.dispatch("core/block-editor").updateBlockAttributes(r.clientId,{textContent:o}):wp.data.dispatch("core/block-editor").updateBlockAttributes(r.clientId,{content:o})),"response.output_text.done"===a&&("greenshift-blocks/element"===r.name?wp.data.dispatch("core/block-editor").updateBlockAttributes(r.clientId,{textContent:o}):wp.data.dispatch("core/block-editor").updateBlockAttributes(r.clientId,{content:o}))}catch(e){console.error("Error parsing event data:",e)}}}}catch(e){console.error("Error fixing content:",e),wp.data.dispatch("core/notices").createNotice("error",__("Error fixing content. Please try again.","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})}}we(__("All blocks processed successfully","greenshift-animation-and-page-builder-blocks")),re(!1)})():Re()},className:"gspb_inspector_btn gspb_inspector_btn--medium",style:{textAlign:"center",justifyContent:"center",margin:0,fontSize:13}},__(ae?"Generating. Please wait...":"table"===S?"Generate table":"chart_line"===S||"chart_bar"===S||"chart_pie"===S||"chart_area"===S||"chart_radar"===S?"Generate chart data":"content"===S?"Generate content":"image"===S?"Generate image":"design"===S?"Generate design":"contentfix"===S?"Fix grammatic errors":"Generate blocks","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(L,null,(0,e.createElement)(M,{onSelect:e=>{oe(e.url.split("/").pop()),fetch(e.url).then((e=>e.blob())).then((e=>{const t=new FileReader;t.onloadend=()=>{const e=t.result;se(e)},t.readAsDataURL(e)}))},value:ne,type:"image",render:({open:t})=>(0,e.createElement)("button",{className:"gspb_inspector_btn gspb_inspector_btn--medium",onClick:t,style:{textAlign:"center",margin:0}},(0,e.createElement)("i",{style:{fontSize:15,margin:0},className:"rhicon rhi-image-regular"}))}))),ne&&(0,e.createElement)("div",{className:"gspb_inspector_img_preview",style:{display:"flex",alignItems:"center",justifyContent:"space-between",margin:"10px 0",padding:"8px",background:"#f5f5f5",borderRadius:"4px",fontSize:"13px"}},(0,e.createElement)("span",null,__("File:","greenshift-animation-and-page-builder-blocks")," ",ie),(0,e.createElement)("span",{onClick:()=>{se(""),oe("")},style:{color:"#007cba",cursor:"pointer",marginLeft:"10px"}},__("Remove","greenshift-animation-and-page-builder-blocks")))),_e&&(0,e.createElement)("div",{className:"gspb_inspector_ai_tool_status",style:{margin:"10px 0",padding:"8px 10px",background:"#e8f0f5",borderRadius:"4px",fontSize:"12px",color:"#2271b1",display:"flex",alignItems:"center",gap:"6px"}},(0,e.createElement)("span",{style:{display:"inline-block",width:"8px",height:"8px",minWidth:"8px",minHeight:"8px",borderRadius:"50%",background:_e.includes("completed")?"#00a32a":"#2271b1",animation:_e.includes("completed")?"none":"pulse 2s infinite"}}),_e),ye&&ye.length>0&&(0,e.createElement)("div",{className:"gspb_inspector_ai_response_tools",style:{margin:"10px 0",padding:"10px",background:"#f0f0f0",borderRadius:"4px",fontSize:"12px"}},(0,e.createElement)("div",{style:{marginBottom:"5px",color:"#666"}},__("Tool queries:","greenshift-animation-and-page-builder-blocks")),ye.map(((t,a)=>(0,e.createElement)("div",{key:a,style:{padding:"3px 8px",background:"#fff",borderRadius:"3px",marginBottom:"3px",color:"#333",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"}},t)))),le&&"contentfix"!==S&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"gspb_inspector_ai_response"},"design"!==S||0!==ye.length||Ee(le).startsWith("\x3c!-- wp")||Ee(le).startsWith("<div>\x3c!-- wp")?(0,e.createElement)("pre",{ref:xe,className:"gspb_inspector_ai_response_code",style:{background:"#f5f5f5",padding:"15px",borderRadius:"5px",overflow:"auto",whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"13px",margin:"10px 0",maxHeight:"150px"}},Ee(le)):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(G,{html:Ee(le),title:__("Design Preview","greenshift-animation-and-page-builder-blocks"),height:300,className:"gspb-design-preview",type:"embed"})),!ae&&(0,e.createElement)(e.Fragment,null,"table"===S||"chart_line"===S||"chart_bar"===S||"chart_pie"===S||"chart_area"===S||"chart_radar"===S||"design"===S?(0,e.createElement)(e.Fragment,null,Y&&K?(0,e.createElement)(I,{isSecondary:!0,onClick:()=>{ce(Y),Re("convert")},style:{width:"100%",justifyContent:"center",marginTop:"10px"}},__("Try to regenerate blocks","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)(e.Fragment,null,"design"==S&&(0,e.createElement)(I,{isPrimary:!0,onClick:()=>(()=>{const e=g(le);e?(console.log(e),Ie(e)):wp.data.dispatch("core/notices").createNotice("error",__("Error converting blocks. Please try AI convertor.","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})})(),style:{width:"100%",justifyContent:"center",marginTop:"10px"}},__("Convert to blocks (classic)","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(I,{isSecondary:!0,onClick:()=>Re("convert"),style:{width:"100%",justifyContent:"center",marginTop:"10px"}},__("Convert to blocks (creative AI)","greenshift-animation-and-page-builder-blocks")),le.startsWith("<table>")&&(0,e.createElement)(I,{isSecondary:!0,onClick:()=>{Ie(le)},style:{width:"100%",justifyContent:"center",marginTop:"10px"}},__("Add as core table block","greenshift-animation-and-page-builder-blocks")))):(0,e.createElement)(I,{isPrimary:!0,onClick:()=>Ie(le),style:{width:"100%",justifyContent:"center",marginTop:"10px"}},__("Add Blocks to Editor","greenshift-animation-and-page-builder-blocks"))))),pe.id&&!ae&&"image"===S&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"gspb_inspector_ai_response_image"},(0,e.createElement)("img",{style:{width:"100%",height:"auto",maxWidth:"100%",marginTop:"10px"},src:pe?.source_url,alt:pe?.title?.rendered})),(0,e.createElement)(I,{isPrimary:!0,style:{marginTop:"10px",width:"100%",textAlign:"center",justifyContent:"center"},onClick:()=>{pe&&pe.id&&(wp.data.select("core/editor").getCurrentPostId()?(wp.data.dispatch("core/editor").editPost({featured_media:pe.id}),wp.data.dispatch("core/notices").createNotice("success",__("Image set as featured image","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"})):wp.data.dispatch("core/notices").createNotice("error",__("Could not find current post","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}},__("Set As Featured Image","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(I,{style:{marginTop:"10px",width:"100%",textAlign:"center",justifyContent:"center"},isSecondary:!0,onClick:()=>{let e="gsbp-"+Math.random().toString(36).substring(2,15),t="gsbp-wrapper-"+Math.random().toString(36).substring(2,15),a='\x3c!-- wp:greenshift-blocks/element {"id":"'+t+'","type":"inner","localId":"'+t+'"} --\x3e<div>\x3c!-- wp:greenshift-blocks/element {"id":"'+e+'","tag":"img","localId":"'+e+'","mediaid":"'+pe.id+'","src":"'+pe.source_url+'","alt":"'+pe.title.rendered+'","styleAttributes":{"objectFit":["cover"], "maxWidth":["100%"]}} --\x3e<img class="'+e+'" src="'+pe.source_url+'" alt="'+pe.title.rendered+'" loading="lazy"/>\x3c!-- /wp:greenshift-blocks/element --\x3e</div>\x3c!-- /wp:greenshift-blocks/element --\x3e';Ie(a)}},__("Add Image to Editor","greenshift-animation-and-page-builder-blocks")))),(0,e.createElement)(P,{title:__("Global Colors","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)(B,null,(0,e.createElement)("div",{style:{display:"flex",gap:"17px",flexWrap:"wrap"}},n.colors&&Object.keys(n.colors).map(((t,a)=>(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle"},(0,e.createElement)("div",{style:{backgroundColor:`var(--gs-color${t})`}}," ")))))),(0,e.createElement)(B,null,(0,e.createElement)("div",{style:{display:"flex",gap:"17px",flexWrap:"wrap"}},n.gradients&&Object.keys(n.gradients).map(((t,a)=>(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle"},(0,e.createElement)("div",{style:{backgroundImage:`var(--gs-gradient${t})`}}," ")))))),(0,e.createElement)(B,null,(0,e.createElement)(I,{style:{width:"100%",justifyContent:"center",textAlign:"center"},isBusy:p,isSecondary:!0,onClick:()=>{m(!0),Ae(),document.body.classList.add("gspb-modalcomponent-open")}},__("Change Global Colors","greenshift-animation-and-page-builder-blocks")),u&&(0,e.createElement)(H,{title:"Global Color Options",setOpen:m,document:U()},(0,e.createElement)("div",{className:"editor-styles-wrapper",style:{minWidth:3==je?300:2==je?500:1==je?700:768,maxWidth:"100%",containerType:"inline-size"}},(0,e.createElement)(k,{attributes:n,postSave:!1,setAttributes:Se}))))),(0,e.createElement)(P,{title:__("Global Elements","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)(B,null,(0,e.createElement)("div",{className:"gspb-library-custom-preset-typo editor-styles-wrapper",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0,fontFamily:"var(--wp--preset--font-family--system)"}},(0,e.createElement)("h1",{style:{margin:0}},"H1"),(0,e.createElement)("h2",{style:{margin:0}},"H2"),(0,e.createElement)("h3",{style:{margin:0}},"H3"),(0,e.createElement)("h4",{style:{margin:0}},"H4"),(0,e.createElement)("h5",{style:{margin:0}},"H5"),(0,e.createElement)("p",{style:{margin:0}},"p"))),(0,e.createElement)(B,null,(0,e.createElement)(I,{style:{width:"100%",justifyContent:"center",textAlign:"center"},isBusy:p,isSecondary:!0,onClick:()=>{f(!0),Ae(),document.body.classList.add("gspb-modalcomponent-open")}},__("Change Global Elements","greenshift-animation-and-page-builder-blocks")),h&&(0,e.createElement)(H,{title:"Global Elements Options",setOpen:f,document:U()},(0,e.createElement)("div",{className:"editor-styles-wrapper",style:{minWidth:3==je?300:2==je?500:1==je?700:768,maxWidth:"100%",containerType:"inline-size",padding:"0px 20px 40px 20px"}},(0,e.createElement)(C,{attributes:n,postSave:!1,setAttributes:Se}))))),(0,e.createElement)(P,{title:__("Global Variables","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)(B,null,(0,e.createElement)("div",{className:"gspb-library-custom-preset-typo editor-styles-wrapper",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0}},(0,e.createElement)("div",{className:"gspb-library-custom-variable-cards"},n.variables&&Object.keys(n.variables).map(((t,a)=>(0,e.createElement)("div",null,n.variables[t].variable)))))),(0,e.createElement)(B,null,(0,e.createElement)(I,{style:{width:"100%",justifyContent:"center",textAlign:"center"},isBusy:p,isSecondary:!0,onClick:()=>{v(!0),Ae(),document.body.classList.add("gspb-modalcomponent-open")}},__("Change Global Variables","greenshift-animation-and-page-builder-blocks")),y&&(0,e.createElement)(H,{title:"Global Variables Options",setOpen:v,document:U()},(0,e.createElement)("div",{className:"editor-styles-wrapper",style:{minWidth:3==je?300:2==je?500:1==je?700:768,maxWidth:"100%",containerType:"inline-size"}},(0,e.createElement)(N,{attributes:n,postSave:!1,setAttributes:Se}))))),(0,e.createElement)(P,{title:__("Custom CSS","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)(B,null,(0,e.createElement)("div",{className:"gspb-library-custom-preset-typo editor-styles-wrapper",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0}},(0,e.createElement)("div",{className:"gspb-library-custom-css-code",style:{fontSize:14,textAlign:"left",maxHeight:100,overflow:"hidden",textOverflow:"ellipsis"}},n.custom_css))),(0,e.createElement)(B,null,(0,e.createElement)(I,{style:{width:"100%",justifyContent:"center",textAlign:"center"},isBusy:p,isSecondary:!0,onClick:()=>{w(!0),Ae(),document.body.classList.add("gspb-modalcomponent-open")}},__("Change Global Styles","greenshift-animation-and-page-builder-blocks")),_&&(0,e.createElement)(H,{title:"Global Styles Options",setOpen:w,document:U()},(0,e.createElement)("div",{className:"editor-styles-wrapper",style:{minWidth:3==je?300:2==je?500:1==je?700:768,maxWidth:"100%",containerType:"inline-size"}},(0,e.createElement)(j,{attributes:n,postSave:!1,setAttributes:Se}))))),(0,e.createElement)(P,{title:__("Global Classes","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)(B,null,(0,e.createElement)("div",{className:"gspb-library-custom-preset-typo editor-styles-wrapper",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0}},(0,e.createElement)("div",{className:"gspb-library-custom-variable-cards"},greenShift_params.global_classes&&Object.keys(greenShift_params.global_classes).map(((t,a)=>(0,e.createElement)("div",null,greenShift_params.global_classes[t].value)))))),(0,e.createElement)(B,null,(0,e.createElement)(I,{style:{width:"100%",justifyContent:"center",textAlign:"center"},isBusy:p,isSecondary:!0,onClick:()=>{window.open(greenShift_params.stylebook_url+"&tab=classes","_blank")}},__("Change Global Classes","greenshift-animation-and-page-builder-blocks")))),(0,e.createElement)(P,{title:__("Custom Global Snapshots","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)("div",{className:"gspb-library-custom-preset opened"},(0,e.createElement)("div",{className:"gspb-library-custom-preset-title"},__("Current values","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{className:"gspb-library-custom-preset-content"},(0,e.createElement)("div",{className:"stylebook-colors-flex",style:{display:"flex",gap:"17px",flexWrap:"wrap"}},n.colors&&Object.keys(n.colors).map(((t,a)=>(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle"},(0,e.createElement)("div",{style:{backgroundColor:`var(--gs-color${t})`}}," "))))),(0,e.createElement)("div",{className:"stylebook-colors-flex",style:{display:"flex",gap:"17px",flexWrap:"wrap",marginTop:10}},n.gradients&&Object.keys(n.gradients).map(((t,a)=>(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle"},(0,e.createElement)("div",{style:{backgroundImage:`var(--gs-gradient${t})`}}," "))))),(0,e.createElement)("hr",{style:{marginTop:10,marginBottom:10}}),(0,e.createElement)("div",{className:"gspb-library-custom-preset-typo editor-styles-wrapper",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0,fontFamily:"var(--wp--preset--font-family--system)"}},(0,e.createElement)("h1",{style:{margin:0}},"H1"),(0,e.createElement)("h2",{style:{margin:0}},"H2"),(0,e.createElement)("h3",{style:{margin:0}},"H3"),(0,e.createElement)("h4",{style:{margin:0}},"H4"),(0,e.createElement)("h5",{style:{margin:0}},"H5"),(0,e.createElement)("p",{style:{margin:0}},"p")),(0,e.createElement)("hr",{style:{marginTop:10,marginBottom:10}}),(0,e.createElement)("div",{style:{marginBottom:10}},__("Save current as:","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{className:"gspb_row_inspector gspb_row--no-padding-col gspb_row--gutter-20",style:{justifyContent:"space-between"}},(0,e.createElement)("div",{className:"gspb_row__col--9"},(0,e.createElement)(W,{value:i,options:ze,onChange:e=>o(e)})),(0,e.createElement)("div",{className:"gspb_row__col--3",style:{textAlign:"right"}},"                   ",(0,e.createElement)(I,{isBusy:p,isSecondary:!0,isSmall:!0,onClick:()=>Oe()},__("Save","greenshift-animation-and-page-builder-blocks")))))),l.length>0&&(0,e.createElement)(e.Fragment,null,l.map(((t,a)=>(0,e.createElement)("div",{className:`gspb-library-custom-preset gspb-library-custom-preset-${a}`},(0,e.createElement)("style",null,`.gspb-library-custom-preset-${a}{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${t.colours&&Object.keys(t.colours).map(((e,a)=>`--gs-color${e}: ${t.colours[e]};`)).join("")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t.gspb-library-custom-preset-${a}{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${t.gradients&&Object.keys(t.gradients).map(((e,a)=>`--gs-gradient${e}: ${t.gradients[e]};`)).join("")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${t.elements&&Object.keys(t.elements).map((e=>t.elements[e].css?t.elements[e].css.replace(/body/g,".gspb-library-custom-preset-"+a):"")).join("")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t`),(0,e.createElement)("div",{className:"gspb-library-custom-preset-title",onClick:e=>{e.target.closest(".gspb-library-custom-preset").classList.toggle("opened")}},t.name),(0,e.createElement)("div",{className:"gspb-library-custom-preset-content"},(0,e.createElement)("div",{className:"stylebook-colors-flex",style:{display:"flex",gap:"17px",flexWrap:"wrap"}},t.colours&&Object.keys(t.colours).map(((t,a)=>(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle"},(0,e.createElement)("div",{style:{backgroundColor:`var(--gs-color${t})`}}," "))))),(0,e.createElement)("div",{className:"stylebook-colors-flex",style:{display:"flex",gap:"17px",flexWrap:"wrap",marginTop:10}},t.gradients&&Object.keys(t.gradients).map(((t,a)=>(0,e.createElement)("div",{className:"gspb-library-custom-preset-colorcircle"},(0,e.createElement)("div",{style:{backgroundImage:`var(--gs-gradient${t})`}}," "))))),(0,e.createElement)("hr",{style:{marginTop:10,marginBottom:10}}),(0,e.createElement)("div",{className:"gspb-library-custom-preset-typo editor-styles-wrapper",style:{textAlign:"center",background:"transparent",padding:"0 0 20px 0",margin:0,fontFamily:"var(--wp--preset--font-family--system)"}},(0,e.createElement)("h1",{style:{margin:0}},"H1"),(0,e.createElement)("h2",{style:{margin:0}},"H2"),(0,e.createElement)("h3",{style:{margin:0}},"H3"),(0,e.createElement)("h4",{style:{margin:0}},"H4"),(0,e.createElement)("h5",{style:{margin:0}},"H5"),(0,e.createElement)("p",{style:{margin:0}},"p")),(0,e.createElement)("hr",{style:{marginTop:10,marginBottom:20}}),(0,e.createElement)("div",{style:{textAlign:"center"}},(0,e.createElement)(I,{isBusy:p,isSecondary:!0,className:"gspb-library-custom-preset-importbtn",isSmall:!0,onClick:()=>(async e=>{d(!0);let t={};l[e].colours&&(t.colors=l[e].colours),l[e].gradients&&(t.gradients=l[e].gradients),l[e].elements&&(t.elements=l[e].elements),l[e].variables&&(t.variables=l[e].variables),l[e].global_classes&&(t.global_classes=l[e].global_classes),await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:t}).then((t=>{const{success:a}=JSON.parse(t);a&&(l[e].colours&&Se({colors:l[e].colours}),l[e].gradients&&Se({gradients:l[e].gradients}),l[e].elements&&Se({elements:l[e].elements}),l[e].variables&&Se({variables:l[e].variables}),d(!1),wp.data.dispatch("core/notices").createNotice("success",__("Snapshot is imported","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))})(a)},__("Import Snapshot","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(I,{isBusy:p,isSmall:!0,isDestructive:!0,isSecondary:!0,onClick:()=>Oe("remove",a)},__("Remove Snapshot","greenshift-animation-and-page-builder-blocks"))))))))),"undefined"!=typeof greenshiftGSAP&&greenshiftGSAP.can_use_premium_code&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(P,{title:__("Interactive Options","greenshift-animation-and-page-builder-blocks"),initialOpen:!1},(0,e.createElement)(B,null,(0,e.createElement)($,{label:__("Enable Creative Mouse Follow","greenshift-animation-and-page-builder-blocks"),checked:Ce?.mousefollow,onChange:e=>{let t=r()(Ce);t||(t={}),t.mousefollow=e,Ne(t)}}),(0,e.createElement)("div",{className:"gspb_row_inspector gspb_row--no-padding-col",style:{marginBottom:5}},(0,e.createElement)("div",{className:"gspb_row__col--6"},(0,e.createElement)("span",{className:"gspb_inspector_property-title"},__("Mouse Color","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("div",{className:"gspb_row__col--6",style:{textAlign:"right"}},(0,e.createElement)(J,{color:Ce?.mousecolor,onChange:e=>{let t=r()(Ce);t||(t={}),t.mousecolor=e.rgb?`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`:e,Ne(t)}}))),(0,e.createElement)($,{label:__("Enable Smooth Scroll","greenshift-animation-and-page-builder-blocks"),checked:Ce?.smoothscroll,onChange:e=>{let t=r()(Ce);t||(t={}),t.smoothscroll=e,Ne(t)}}),(0,e.createElement)($,{label:__("Enable Page Transition","greenshift-animation-and-page-builder-blocks"),checked:Ce?.pagetransition,onChange:e=>{let t=r()(Ce);t||(t={}),t.pagetransition=e,Ne(t)}}),Ce?.pagetransition&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(W,{label:__("Page Transition Effect","greenshift-animation-and-page-builder-blocks"),value:Ce?.pagetransitioneffect,options:[{label:__("Select Effect","greenshift-animation-and-page-builder-blocks"),value:""},{label:__("Fade","greenshift-animation-and-page-builder-blocks"),value:"fade"},{label:__("Smooth Slide Top","greenshift-animation-and-page-builder-blocks"),value:"slide-top"},{label:__("Smooth Slide Bottom","greenshift-animation-and-page-builder-blocks"),value:"slide-bottom"},{label:__("Smooth Slide Left","greenshift-animation-and-page-builder-blocks"),value:"slide-left"},{label:__("Smooth Slide Right","greenshift-animation-and-page-builder-blocks"),value:"slide-right"},{label:__("Zoom","greenshift-animation-and-page-builder-blocks"),value:"zoom"},{label:__("Parallax Out","greenshift-animation-and-page-builder-blocks"),value:"parallax-out"},{label:__("Push","greenshift-animation-and-page-builder-blocks"),value:"push"},{label:__("No effect","greenshift-animation-and-page-builder-blocks"),value:"none"}],onChange:e=>{let t=r()(Ce);t||(t={}),t.pagetransitioneffect=e,Ne(t)}}),(0,e.createElement)(R,{label:__("Do not apply transition to","greenshift-animation-and-page-builder-blocks"),value:Ce?.pagetransitionsafe,onChange:e=>{let t=r()(Ce);t||(t={}),t.pagetransitionsafe=e,Ne(t)},help:__("Enter selectors separated by commas. These selectors will not be applied transition. Default are: header, footer","greenshift-animation-and-page-builder-blocks")}))),(0,e.createElement)(B,null,(0,e.createElement)(I,{isBusy:p,isSecondary:!0,onClick:()=>(async()=>{d(!0),await wp.apiFetch({path:"greenshift/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{sitesettings:Ce}}).then((e=>{const{success:t}=JSON.parse(e);t&&(d(!1),wp.data.dispatch("core/notices").createNotice("success",__("Global Settings are updated. You may need to reload page","greenshift-animation-and-page-builder-blocks"),{type:"snackbar"}))}))})()},__("Save changes","greenshift-animation-and-page-builder-blocks"))))))},Y=(0,e.createElement)("svg",{clipRule:"evenodd",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"2",viewBox:"0 0 448 512",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"m418.018 79.909-377.104-2.318 7.075 208.767 177.267 161.642 140.55-103.477 45.932-123.671-224.766-3.11 29.961 67.964 117.18 2.218-110.113 81.877-102.504-95.157-5.087-122.354 260.399-2.775z",fillRule:"nonzero"})),{registerPlugin:X}=wp.plugins,{__:K}=wp.i18n,{PluginSidebarMoreMenuItem:Z,PluginSidebar:ee}=wp.editor;X("greenshift-customsidebarsite",{render:()=>(0,e.createElement)("div",{className:"greenshift_sidebar"},(0,e.createElement)(ee,{name:"greenShift-custom-site-settings",title:K("GreenShift settings","greenshift-animation-and-page-builder-blocks"),className:"greenshift_sidebar"},(0,e.createElement)(q,null)),(0,e.createElement)(Z,{target:"greenShift-custom-site-settings"},K("GreenShift settings","greenshift-animation-and-page-builder-blocks"))),icon:Y});const{Component:te}=wp.element;class ae extends te{constructor(e){super(...arguments)}render(){let t=this.props.categories;const a=this.props.setTerm,r=this.props.term,n=this.props.key_default;n&&a(n);let s=[],i=0;return null!=t&&Array.isArray(t)&&t.length&&t.forEach((t=>{i+=t.count,s.push((0,e.createElement)("li",{...r===t.id&&{style:{color:"#fff"}},className:"gspb_library__menuNav__item","data-key":t.id,onClick:()=>{a(t.id)}},t.name,(0,e.createElement)("span",null," ",t.count," ")))})),(0,e.createElement)("ul",null,(0,e.createElement)("li",{..."All"===r&&{style:{color:"#fff"}},className:"gspb_library__menuNav__item",onClick:()=>a("All")},"All ",(0,e.createElement)("span",null," ",i," ")),s)}}const{Fragment:re,useEffect:ne,useState:se,useRef:ie}=wp.element,{ToggleControl:oe}=wp.components,{parse:le}=wp.blocks,{__:ce}=wp.i18n,pe=greenShift_params.updateLink,de=greenShift_params.ajaxUrl.replace("admin-ajax.php",""),ue=async(e,t,a="All",r="All")=>{const n="Layout"==e?3:"Section"==e?2:"Wireframes"==e?92:"Templates"==e?111:34,s=await fetch(greenShift_params.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"gspb_get_layouts",category_id:n,page:t,term:a,tag:r})});return await s.json()},ge=t=>{const[a,r]=se(!1),[n,s]=se([]),[i,o]=se([]),[l,c]=se(!1),[p,d]=se([]),[u,g]=se(t.tab||"Section"),[b,m]=se(1),[h,f]=se(2),[y,v]=se("All"),[_,w]=se("All"),[k,x]=se(!1),[E,S]=se(!1),{storePage:C,getPage:N,manageCacheExpiration:j}={storePage:e=>{const{category:t,term:a,tag:r,page:n,layouts:s,total_pages:i}=e;let o=localStorage.getItem("gspb_lib_layouts")?JSON.parse(localStorage.getItem("gspb_lib_layouts")):{};o=function(e,t,a,r,n,s,i){return e[t]||(e[t]={}),e[t][a]||(e[t][a]={}),e[t][a][r]||(e[t][a][r]={}),e[t][a][r][n]||(e[t][a][r][n]=s,i&&(e[t][a][r].total_pages=i)),e}(o,t,a,r,n,s,i),localStorage.setItem("gspb_lib_layouts",JSON.stringify(o))},getPage:e=>{const{category:t,term:a,tag:r,page:n}=e;let s=localStorage.getItem("gspb_lib_layouts")?JSON.parse(localStorage.getItem("gspb_lib_layouts")):{};return!!s?.[t]?.[a]?.[r]?.[n]&&{items:s[t][a][r][n],total_pages:s[t][a][r].total_pages}},manageCacheExpiration:e=>{if(localStorage.getItem("gspb_lib_expiration")){const e=1,t=localStorage.getItem("gspb_lib_expiration");t&&(new Date).getTime()-t>60*e*60*1e3&&(localStorage.clear(),localStorage.setItem("gspb_lib_expiration",(new Date).getTime()))}else localStorage.setItem("gspb_lib_expiration",(new Date).getTime())}};ne((()=>{j()}),[]);const T=ie();!function({root:t,target:a,onIntersect:r,threshold:n=.7,rootMargin:s="0px",enabled:i=!1}){(0,e.useEffect)((()=>{if(!i)return;const e=new IntersectionObserver((e=>e.forEach((e=>e.isIntersecting&&r()))),{root:t&&t.current,rootMargin:s,threshold:n}),o=a&&a.current;return o?(e.observe(o),()=>{e.unobserve(o)}):void 0}),[r,t,s,a,n,i])}({target:T,onIntersect:async()=>{if("Saved"!==u){c(!0);const e=N({category:u,term:y,tag:_,page:b+1});if(e)o([...i,...e.items]);else{const e=await ue(u,(b+1).toString(),y,_);o([...i,...e.data]),C({category:u,term:y,tag:_,page:b+1,layouts:e.data})}m(b+1),c(!1)}},enabled:b<h}),ne((()=>{if("Saved"!==u){const e=async()=>{w("All"),v("All"),m(1),f(2),o([]),d([]),c(!0);const e=await(async e=>{const t="Layout"==e?3:"Section"==e?2:"Wireframes"==e?92:"Templates"==e?111:34,a=await fetch(greenShift_params.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"gspb_get_categories",category_id:t})});return await a.json()})(u);s(e);const t=N({category:u,term:"All",tag:"All",page:1});if(t)o(t.items),f(t.total_pages),c(!1);else{const e=await ue(u,"1");f(e.total_pages);const t=e.data;C({category:u,term:"All",tag:"All",page:1,layouts:t,total_pages:e.total_pages}),o(t),c(!1)}};e()}}),[u]),ne((()=>{if("Saved"!==u){const e=async()=>{m(1),f(2),o([]),d([]),c(!0);const e=N({category:u,term:y,tag:_,page:1});if(e)o(e.items),f(e.total_pages),c(!1);else{const e=await ue(u,"1",y,_);f(e.total_pages);const t=e.data;o(t),C({category:u,term:y,tag:_,page:1,layouts:t,total_pages:e.total_pages})}c(!1)};e()}}),[y,_]);const A=(e,a="gspb_get_layout_by_id")=>{let n=e.target.getAttribute("data-tab");if(!n){let t=e.target.closest("[data-tab]");t&&(n=t.getAttribute("data-tab"))}const s=e.target.getAttribute("data-download"),i=e.target.getAttribute("data-download-animated"),o=e.target.getAttribute("data-assets"),l=e.target.getAttribute("data-loadanimated");let c=null!=document.getElementById("gspb_template_import_btns")?document.getElementById("gspb_template_import_btns").getAttribute("data-id"):"";"gspb_get_layout_by_id"===a&&(e.target.querySelector(".gspb_danwload_layout_icon").style.display="none",e.target.querySelector(".gspb_loading_layout_gif").style.display="block"),fetch(greenShift_params.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:a,gspb_layout_id:n,download_url:s,download_assets:o,download_animated:l,download_url_animated:i,type:t.type,pageid:c,security:greenShift_params.nonce})}).then((function(e){if(e.ok)return e.json();throw new Error("Failed to fetch layout")})).then((function(e){let n="";if(n=le("gspb_get_layout_by_id"===a?e:e.data.blocks[0].post_content),"home"==t.type||"header"==t.type||"footer"==t.type||"single"==t.type||"archive"==t.type||"singleproduct"==t.type||"archiveproduct"==t.type||"searchproduct"==t.type)c?null!=document.getElementById("greenshift-homepage-iframe")&&(document.getElementById("greenshift-homepage-iframe").src=document.getElementById("greenshift-homepage-iframe").src):alert("Please select a page where to import the layout","greenshift-animation-and-page-builder-blocks");else{let e=wp.data.select("core/block-editor").getSelectedBlock(),t="",a=null,r="";if(e&&"core/paragraph"==e.name){t=e.clientId;let n=wp.data.select("core/block-editor").getBlockInsertionPoint();"undefined"!=n&&(a=n.index,r=n.rootClientId)}a&&t&&void 0!==r?(wp.data.dispatch("core/block-editor").insertBlocks(n,a,r),wp.data.dispatch("core/block-editor").removeBlock(t)):a&&t?(wp.data.dispatch("core/block-editor").insertBlocks(n,a),wp.data.dispatch("core/block-editor").removeBlock(t)):wp.data.dispatch("core/block-editor").insertBlocks(n)}r(!1)})).catch((function(e){console.log("Failed to import layout:",e)}))};return(0,e.createElement)(re,null,(0,e.createElement)("span",{className:"gspb_layout_button",onClick:()=>{r(!0)}},ce("Templates","greenshift-animation-and-page-builder-blocks"),(0,e.createElement)("i",{className:"rhicon rhi-database"})),(0,e.createElement)("div",null,ce("If you can't connect to library, you can download each template on ","greenshift-animation-and-page-builder-blocks"),(0,e.createElement)("a",{href:"https://greenshift.wpsoul.net/",target:"_blank"},ce("Library site","greenshift-animation-and-page-builder-blocks"))),a&&(0,e.createElement)("div",{className:"gspb_library",style:{display:"block"}},(0,e.createElement)("div",{className:"gspb_library__wrapper"},(0,e.createElement)("div",{className:"gspb_library__content"},(0,e.createElement)("div",{className:"gspb_library__nav__sidebar"},(0,e.createElement)("div",{className:"gspb_library__nav__logo"},(0,e.createElement)("span",null,Y),(0,e.createElement)("span",null,ce("Library","greenshift-animation-and-page-builder-blocks")))),(0,e.createElement)("div",{className:"gspb_library__nav__body"},(0,e.createElement)("div",{className:"gspb_library__nav"},(0,e.createElement)("a",{href:"#",onClick:()=>g("Layout"),value:"Layout",className:"gspb_library__nav__main__element "+("Layout"===u?"gspb_active_cat":"")},ce("Layouts","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("a",{onClick:()=>g("Section"),className:"gspb_library__nav__main__element "+("Section"===u?"gspb_active_cat":""),value:"Section"},ce("Sections","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("a",{onClick:()=>g("Wireframes"),className:"gspb_library__nav__main__element "+("Wireframes"===u?"gspb_active_cat":""),value:"Wireframes"},ce("Wireframes","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("a",{onClick:()=>g("Templates"),className:"gspb_library__nav__main__element "+("Templates"===u?"gspb_active_cat":""),value:"Templates"},ce("FSE Templates","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("a",{onClick:()=>g("Experimental"),className:"gspb_library__nav__main__element "+("Experimental"===u?"gspb_active_cat":""),value:"Experimental"},ce("Fancy Library","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("a",{onClick:()=>{c(!0),fetch(greenShift_params.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"gspb_get_saved_block"})}).then((function(e){if(e.ok)return e.json();throw new Error("Failed to load save layouts")})).then((function(e){d(e.data.blocks),c(!1)})).catch((function(e){console.log("Failed to load save layouts:",e)})),g("Saved")},className:"gspb_library__nav__main__element "+("Saved"===u?"gspb_active_cat":"")},ce("Saved","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("div",{className:"gspb_library__nav__close",onClick:()=>{r(!1)}},(0,e.createElement)("span",{className:"rhicon rhi-times-circle"}," "))))),(0,e.createElement)("div",{className:"gspb_library__content"},(0,e.createElement)("div",{className:"gspb_library__content__sidebar"},(0,e.createElement)("div",{className:"gspb_library__menuNav__category"},(0,e.createElement)("h3",null,ce("Categories","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)(ae,{term:y,setTerm:v,categories:n,key_default:t.key_default}))),(0,e.createElement)("div",{className:"gspb_library__content__body"},(0,e.createElement)("div",{className:"gspb_library__items_wrapper"},0===p.length&&(0,e.createElement)("div",{className:"gspb_library__items_filters"},(0,e.createElement)("span",{className:"gspb_library__items_filters_item "+("All"===_?" active":""),onClick:()=>w("All")},ce("All","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("span",{className:"gspb_library__items_filters_item "+("free"===_?" active":""),onClick:()=>w(106)},ce("Free","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("span",{className:"gspb_library__items_filters_item "+(4===_?" active":""),onClick:()=>w(4)},(0,e.createElement)("i",{className:"rhicon rhi-crown"}),ce("Animation Addon","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("span",{className:"gspb_library__items_filters_item "+(6===_?" active":""),onClick:()=>w(6)},(0,e.createElement)("i",{className:"rhicon rhi-crown"}),ce("Query Addon","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("span",{className:"gspb_library__items_filters_item "+(5===_?" active":""),onClick:()=>w(5)},(0,e.createElement)("i",{className:"rhicon rhi-crown"}),ce("Marketing Addon","greenshift-animation-and-page-builder-blocks")),(0,e.createElement)("span",{className:"gspb_library__items_filters_item "+(96===_?" active":""),onClick:()=>w(96)},(0,e.createElement)("i",{className:"rhicon rhi-crown"}),ce("Woo Addon","greenshift-animation-and-page-builder-blocks"))),!!i?.length&&!p.length&&(0,e.createElement)(re,null,(0,e.createElement)("div",{className:"gspb_library__items_wrapper"},"Layout"==u&&(0,e.createElement)("div",{style:{display:"flex",marginBottom:20,gap:20}},(0,e.createElement)(oe,{label:ce("Import global assets (global colors, fonts)","greenshift-animation-and-page-builder-blocks"),checked:k,onChange:e=>x(e)}),(0,e.createElement)(oe,{label:ce("Import Animated Version (Beta)","greenshift-animation-and-page-builder-blocks"),checked:E,onChange:e=>S(e)})),(0,e.createElement)("div",{className:"gspb_library__items_wrapper_libitems"},(()=>{if(0===i?.length)return null;const t=[];return i.forEach((a=>{if(null!=a._embedded["wp:featuredmedia"]){let r="";r="Section"!=a._embedded["wp:term"][0][0].name&&"Layout"!=a._embedded["wp:term"][0][0].name&&"Wireframes"!=a._embedded["wp:term"][0][0].name&&"Templates"!=a._embedded["wp:term"][0][0].name&&"Experimental"!=a._embedded["wp:term"][0][0].name||void 0===a._embedded["wp:term"][0][1]?a._embedded["wp:term"][0][0].name.replace(/\s/g,""):a._embedded["wp:term"][0][1].name.replace(/\s/g,"");let n=a.tags,s="",i="",o="",l="",c="",p=" alltagclass",d="",u="";n.length>0&&(s=n.includes(4)?" animationtagclass":"",i=n.includes(5)?" marketingtagclass":"",o=n.includes(7)?" rehubtagclass":"",l=n.includes(6)?" querytagclass":"",c=n.includes(96)?" wootagclass":"",u=n.includes(97)?" greenshiftthemetagclass":""),s||i||o||l||c||(d=" freetagclass");let g=(0,e.createElement)("a",{className:"gspb_library__body__item--button",onClick:A,"data-tab":a.id,"data-download":a.meta&&a.meta.download_url?a.meta.download_url:"","data-assets":a.meta&&a.meta.download_url&&k?"yes":"","data-loadanimated":a.meta&&a.meta.download_url_animated&&E?"yes":"","data-download-animated":a.meta&&a.meta.download_url_animated?a.meta.download_url_animated:""},(0,e.createElement)("i",{className:"rhicon rhi-download gspb_danwload_layout_icon"}),(0,e.createElement)("i",{className:"rhicon rhi-spinner gspb-spin gspb_loading_layout_gif"}),ce("Import","greenshift-animation-and-page-builder-blocks"));(!s||"undefined"!=typeof greenshiftGSAP&&greenshiftGSAP.can_use_premium_code)&&(!i||"undefined"!=typeof greenshiftSEO&&greenshiftSEO.can_use_premium_code)&&(!c||"undefined"!=typeof greenshiftWOO&&greenshiftWOO.can_use_premium_code)&&(!l||"undefined"!=typeof greenshiftQUERY&&greenshiftQUERY.can_use_premium_code)||(g=(0,e.createElement)("a",{className:"gspb_library__body__item--buttonpro",target:"_blank",href:pe},(0,e.createElement)("i",{className:"rhicon rhi-crown"}),ce("Upgrade","greenshift-animation-and-page-builder-blocks"))),o&&!greenShift_params.isRehub&&(g=(0,e.createElement)("a",{className:"gspb_library__body__item--buttonpro",target:"_blank",href:"https://1.envato.market/EaKAK4"},(0,e.createElement)("i",{className:"rhicon rhi-crown"}),ce("Buy Theme","greenshift-animation-and-page-builder-blocks"))),t.push((0,e.createElement)("div",{className:`gspb_library__body__item${u}${c}${s}${i}${l}${o}${p}${d}`,id:r},(0,e.createElement)("div",{className:"gspb_library__body__item__thumbnail"},(0,e.createElement)("div",{className:"gspb_library__body__item--overlay"},g,(0,e.createElement)("a",{className:"gspb_library__body__item--button-preview",href:void 0!==a.meta.demourl&&a.meta.demourl?a.meta.demourl:a.link,target:"_blank"},(0,e.createElement)("i",{className:"rhicon rhi-link"}),ce("Preview","greenshift-animation-and-page-builder-blocks"))),(0,e.createElement)("img",{src:a._embedded["wp:featuredmedia"][0].source_url})),(0,e.createElement)("div",{className:"gspb_library__body__item__title"},a.title.rendered),(0,e.createElement)("div",{className:"gspb_library__body__item_prolabels_container"},(0,e.createElement)("div",{className:"gspb_library__body__item_prolabels"},s?(0,e.createElement)("span",{className:"undefined"!=typeof greenshiftGSAP&&greenshiftGSAP.can_use_premium_code?"":"noaddon"},ce("Animation Addon","greenshift-animation-and-page-builder-blocks"),"undefined"!=typeof greenshiftGSAP&&greenshiftGSAP.can_use_premium_code?(0,e.createElement)("span",null,ce("Installed","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)("span",null,ce("Not installed","greenshift-animation-and-page-builder-blocks"))):"",l?(0,e.createElement)("span",{className:"undefined"!=typeof greenshiftQUERY&&greenshiftQUERY.can_use_premium_code?"":"noaddon"},ce("Query Addon","greenshift-animation-and-page-builder-blocks"),"undefined"!=typeof greenshiftQUERY&&greenshiftQUERY.can_use_premium_code?(0,e.createElement)("span",null,ce("Installed","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)("span",null,ce("Not installed","greenshift-animation-and-page-builder-blocks"))):"",c?(0,e.createElement)("span",{className:"undefined"!=typeof greenshiftWOO&&greenshiftWOO.can_use_premium_code?"":"noaddon"},ce("Woocommerce Addon","greenshift-animation-and-page-builder-blocks"),"undefined"!=typeof greenshiftWOO&&greenshiftWOO.can_use_premium_code?(0,e.createElement)("span",null,ce("Installed","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)("span",null,ce("Not installed","greenshift-animation-and-page-builder-blocks"))):"",i?(0,e.createElement)("span",{className:"undefined"!=typeof greenshiftSEO&&greenshiftSEO.can_use_premium_code?"":"noaddon"},ce("Marketing Addon","greenshift-animation-and-page-builder-blocks"),"undefined"!=typeof greenshiftSEO&&greenshiftSEO.can_use_premium_code?(0,e.createElement)("span",null,ce("Installed","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)("span",null,ce("Not installed","greenshift-animation-and-page-builder-blocks"))):"",o?(0,e.createElement)("span",{className:greenShift_params.isRehub?"":"noaddon"},ce("Rehub theme","greenshift-animation-and-page-builder-blocks"),greenShift_params.isRehub?(0,e.createElement)("span",null,ce("Installed","greenshift-animation-and-page-builder-blocks")):(0,e.createElement)("span",null,ce("Not installed","greenshift-animation-and-page-builder-blocks"))):""))))}})),t})()))),0===i?.length&&!p.length&&!l&&(0,e.createElement)("div",null,"No Results"),!!p.length&&(0,e.createElement)(re,null,p.map((t=>(0,e.createElement)("div",{className:"gspb_library__reusable_block_item_lib"},(0,e.createElement)("div",{className:"gspb_library__reusable_block_item-content"},t.post_title),(0,e.createElement)("div",{className:"gspb_library__reusable_block_item-meta"},(0,e.createElement)("div",{className:"gspb_library__reusable_block_item-edit"},(0,e.createElement)("a",{href:`${de}post.php?post=${t.ID}&action=edit`,target:"_blank"},(0,e.createElement)("i",{className:"rhicon rhi-edit-regular"}))),(0,e.createElement)("div",{className:"gspb_library__reusable_block_item-import",onClick:e=>A(e,"gspb_get_saved_block"),"data-tab":`${t.ID}`},(0,e.createElement)("i",{className:"rhicon rhi-download gspb_danwload_layout_icon"}),(0,e.createElement)("i",{className:"rhicon rhi-spinner gspb-spin gspb_loading_layout_gif"})))))))),null!=i&&i.length>0&&(0,e.createElement)("div",{ref:T}),l&&b<h&&(0,e.createElement)("div",{className:"gspb_library__loading"},(0,e.createElement)("i",{style:{fontSize:30,display:"inline-block",color:"#2184f9"},className:"rhicon rhi-spinner gspb-spin"})),(0,e.createElement)("div",{className:"gspb_library__items_page",style:{height:100},"data-page":"1"}))))))},be=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 121.22"},(0,e.createElement)("path",{fill:"#2184f9",fillRule:"evenodd",d:"M17.79,26.82c8.15,2.73,19.49,4.41,32.1,4.41S73.83,29.55,82,26.82c7.15-2.38,11.58-5.28,11.58-8.1S89.13,13,82,10.61c-8.15-2.71-19.49-4.4-32.09-4.4s-23.95,1.68-32.1,4.4c-15.18,5.07-15.6,11,0,16.21Zm80,41.46A25.13,25.13,0,1,1,72.62,93.41,25.13,25.13,0,0,1,97.75,68.28Zm0,10L102.14,89l11.57.86-8.85,7.49,2.75,11.26-9.86-6.1-9.87,6.1,2.76-11.26-8.85-7.49L93.36,89l4.39-10.73ZM6.28,48.14c.56,2.63,4.85,5.29,11.51,7.51,8.15,2.72,19.49,4.4,32.1,4.4S73.83,58.37,82,55.65c7.15-2.39,11.58-5.28,11.58-8.11h0V28.13a39.44,39.44,0,0,1-9.65,4.56c-8.78,2.92-20.83,4.74-34,4.74s-25.28-1.81-34.06-4.74a39.09,39.09,0,0,1-9.54-4.5v20ZM63.66,93.07a135.07,135.07,0,0,1-13.77.68c-13.24,0-25.28-1.81-34.06-4.75a39.09,39.09,0,0,1-9.54-4.5v18.6c.56,2.64,4.85,5.29,11.51,7.51C26,113.33,37.29,115,49.9,115a123.93,123.93,0,0,0,20.9-1.68,32.35,32.35,0,0,0,5.32,5.27,124.76,124.76,0,0,1-26.22,2.61c-13.24,0-25.28-1.81-34.06-4.74C11.21,114.93.08,109.86.08,103.78v-2Q0,60.27,0,18.72C0,12.92,6,8,15.82,4.74,24.6,1.81,36.65,0,49.89,0S75.16,1.81,83.94,4.75s14.7,7.31,15.68,12.44a3,3,0,0,1,.18,1V60.85a31.91,31.91,0,0,0-3.68-.21c-.85,0-1.69,0-2.52.1V57A39.44,39.44,0,0,1,84,61.53c-8.78,2.93-20.83,4.75-34.05,4.75s-25.28-1.81-34.06-4.75A38.72,38.72,0,0,1,6.3,57V75.63c.56,2.64,4.85,5.29,11.51,7.52,8.15,2.71,19.49,4.4,32.1,4.4a134.1,134.1,0,0,0,14.39-.76,30.89,30.89,0,0,0-.64,6.28Z"})),{registerPlugin:me}=wp.plugins,{__:he}=wp.i18n,{PluginSidebarMoreMenuItem:fe,PluginSidebar:ye}=wp.editor;me("greenshift-sidebarsitetemplates",{render:()=>(0,e.createElement)("div",{className:"greenshift_sidebar"},(0,e.createElement)(ye,{name:"greenShift-custom-site-helpers",title:he("GreenShift Helpers","greenshift-animation-and-page-builder-blocks"),className:"greenshift_sidebar"},(0,e.createElement)("div",{className:"gspb_main_buttons",style:{marginTop:10}},(0,e.createElement)(ge,null))),(0,e.createElement)(fe,{target:"greenShift-custom-site-helpers"},he("GreenShift Helpers","greenshift-animation-and-page-builder-blocks"))),icon:be})})()})();